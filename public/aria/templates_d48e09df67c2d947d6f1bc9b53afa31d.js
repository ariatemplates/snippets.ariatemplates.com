/**
 * Copyright 2012 Amadeus s.a.s.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
//***MULTI-PART
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/BaseCtxt.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.BaseCtxt",$singleton:false,$constructor:function(){this._tpl=this._out=this._cfg=null;this._macrolibs=[]},$destructor:function(){if(this._macrolibs){for(var a=0;a<this._macrolibs.length;a++){var b=this._macrolibs[a];aria.templates.ITemplate.prototype.$destructor.call(b._tpl);b.$dispose()}this._macrolibs=null}},$statics:{TEMPLATE_CONSTR_ERROR:"Error while creating a new instance of template '%1' - please check script constructor.",TEMPLATE_DESTR_ERROR:"Error while destroying an instance of template '%1' - please check script destructor.",
MACRO_NOT_FOUND:"Missing macro '%1' in template '%2'.",MACRO_CALL_ERROR:"Error while calling macro '%1' in template '%2'.",LIBRARY_HANDLE_CONFLICT:"Template error: can't load shared macro library '%1'. A macro, text template, variable or another library has already been declared with the same name.",LIBRARY_ALREADY_LOADED:"Template error: library at classpath '%1' has already been loaded."},$prototype:{checkMacro:function(a){if(a==null)return this._cfg.macro;if(typeof a=="string")a={name:a,args:[],
scope:this._tpl};else{if(a.args==null)a.args=[];if(a.scope==null)a.scope=this._tpl}return a},_callMacro:function(a,b){this.$assert(62,this._out!=null);b=this.checkMacro(b);var d=b.scope,c=d["macro_"+b.name];c==null&&this.$logError(this.MACRO_NOT_FOUND,[b.name,d.$classpath]);try{c.apply(d,b.args)}catch(e){this.$logError(this.MACRO_CALL_ERROR,[b.name,d.$classpath],e)}},__loadMacrolibs:function(a){var b={},d=0,c;for(c in a)if(a.hasOwnProperty(c))if(this._tpl[c]!==undefined){delete a[c];this.$logError(this.LIBRARY_HANDLE_CONFLICT,
[c])}else if(b[a[c]])this.$logError(this.LIBRARY_ALREADY_LOADED,[c]);else{b[a[c]]=true;d++}if(d!=0)for(c in a)if(a.hasOwnProperty(c)){this._tpl[c]=Aria.getClassInstance(a[c]);this._tpl[c].__$write=this._tpl.__$write;b=new aria.templates.TemplateCtxt;b._tpl=this._tpl[c];this._macrolibs.push(b);aria.templates.ITemplate.call(this._tpl[c],b);b._tpl.__$initTemplate();b.__loadMacrolibs(b._tpl.__$macrolibs)}}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/BaseTemplate.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.BaseTemplate",$dependencies:["aria.templates.IBaseTemplate","aria.utils.Json"],$constructor:function(){},$destructor:function(){},$statics:{EXCEPTION_IN_MACRO:"Uncaught exception in macro '%1', line %2",EXCEPTION_IN_VARINIT:"Uncaught exception when initializing global variables in template '%0'.",ITERABLE_UNDEFINED:"line %2: Template error: cannot iterate over a null or undefined variable.",EXCEPTION_IN_EXPRESSION:"line %2: Uncaught runtime exception in expression '%1'",
EXCEPTION_IN_VAR_EXPRESSION:"line %2: Uncaught runtime exception in var expression '%1'",EXCEPTION_IN_SET_EXPRESSION:"line %2: Uncaught runtime exception in set expression '%1'",EXCEPTION_IN_CHECKDEFAULT_EXPRESSION:"line %2: Uncaught runtime exception in checkdefault expression '%1'",MACRO_NOT_FOUND:"line %1: Template error: macro '%2' is not defined."},$prototype:{$json:aria.utils.Json,$init:function(c){var b=aria.templates.IBaseTemplate.prototype,a;for(a in b)if(b.hasOwnProperty(a)&&!c.hasOwnProperty(a))c[a]=
b[a]}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/CfgBeans.js
//YpwKgK3gnz
Aria.beanDefinitions({$package:"aria.templates.CfgBeans",$description:"Definition of JSON beans used in aria templates",$namespaces:{json:"aria.core.JsonTypes",coreBeans:"aria.core.CfgBeans"},$beans:{BaseTemplateCfg:{$type:"json:Object",$description:"Base configuration for all types of templates.",$properties:{$classpath:{$type:"json:PackageName",$description:"Classpath of the generated class.",$mandatory:true},$dependencies:{$type:"json:Array",$description:"Additional dependencies",$default:[],$contentType:{$type:"json:PackageName",
$description:"Any class that the template is dependent of"}},$hasScript:{$type:"json:Boolean",$description:"Specifies whether a script is associated with the template. If this property is true, the script is a class declared with Aria.tplScriptDefinition whose classpath is the same as the one of the template, with the suffix Script added to the end.",$default:false},$extends:{$type:"json:PackageName",$description:"Classpath of the parent template, if any."},$texts:{$type:"json:Map",$description:"Text templates used inside the Template",
$contentType:{$type:"json:PackageName",$description:"Classpath of the text template.",$mandatory:true}}}},TemplateCfg:{$type:"BaseTemplateCfg",$description:"Configuration of a template.",$mandatory:true,$properties:{$width:{$type:"ContainerSizeCfg",$description:"Constraints (min, max) for the width of the template.",$default:null},$height:{$type:"ContainerSizeCfg",$description:"Constraints (min, max) for the height of the template.",$default:null},$wlibs:{$type:"json:Map",$description:"Map of widget libraries used in the template. The key in the map is the prefix used inside the template to refer to that widget library. The value is the classpath of the library. The aria library is defined by default and refers to aria.widgets.AriaLib.",
$contentType:{$type:"json:PackageName",$description:"Classpath of the widget library.",$sample:"aria.widgets.AriaLib",$mandatory:true},$default:{}},$res:{$type:"json:Map",$description:"Resource class to be accessible through the res variable in the template.",$contentType:{$type:"json:MultiTypes",$description:"Any resource class that the template is dependent of.",$sample:"aria.widgets.WidgetsRes"}},$templates:{$type:"json:Array",$description:"Template dependencies",$contentType:{$type:"json:PackageName",
$description:"Any template that should be loaded before the template is loaded."}},$css:{$type:"json:Array",$description:"CSS dependencies",$contentType:{$type:"json:PackageName",$description:"Any CSS template that should be loaded along with the template."}},$macrolibs:{$type:"json:Map",$description:"Static macro libraries",$contentType:{$type:"json:PackageName",$description:"Classpath of the macro library.",$mandatory:true}}}},LibraryCfg:{$type:"BaseTemplateCfg",$description:"Configuration of a library.",
$mandatory:true,$properties:{$wlibs:{$type:"json:Map",$description:"Map of widget libraries used in the library. The key in the map is the prefix used inside the library to refer to that widget library. The value is the classpath of the library. The aria library is defined by default and refers to aria.widgets.AriaLib.",$contentType:{$type:"json:PackageName",$description:"Classpath of the widget library.",$sample:"aria.widgets.AriaLib",$mandatory:true},$default:{}},$templates:{$type:"json:Array",
$description:"Library dependencies",$default:[],$contentType:{$type:"json:PackageName",$description:"Any template that should be loaded before the library is loaded."}},$macrolibs:{$type:"json:Map",$description:"Static macro libraries",$contentType:{$type:"json:PackageName",$description:"Classpath of the macro library.",$mandatory:true}}}},CSSTemplateCfg:{$type:"BaseTemplateCfg",$description:"Configuration of a CSS Template.",$properties:{}},TextTemplateCfg:{$type:"BaseTemplateCfg",$description:"Configuration of a text template.",
$mandatory:true,$properties:{$res:{$type:"json:Map",$description:"Resource class to be accessible through the res variable in the template.",$contentType:{$type:"json:PackageName",$description:"Any resource class that the template is dependent of",$sample:"aria.widgets.WidgetsRes"}}}},ContainerSizeCfg:{$type:"json:Object",$description:"Constraints for the size (height or width) of a container object (the browser window or a template).",$properties:{min:{$type:"json:Integer",$description:"Minimum size of the object, expressed in pixels; or null if there is no minimum size."},
max:{$type:"json:Integer",$description:"Maximum size of the object, expressed in pixels; or null if there is no maximum size."},value:{$type:"json:Integer",$description:"Size of the object, if its size should be fixed, or null if there is no fixed size. When defined, it replaces both min and max."},scrollbar:{$type:"json:Boolean",$description:"If true, reserve space for the scrollbar (if constraints are on the width, space is reserved for a vertical scrollbar; if constraints are on the height, space is reserved for a horizontal scrollbar)."}},
$default:{}},RootDimCfg:{$type:"json:Object",$description:"Specify the constraints on the dimensions of the browser's window, which are used to compute the size of the templates.",$mandatory:true,$properties:{width:{$type:"ContainerSizeCfg",$description:"Constraints on the width of the window."},height:{$type:"ContainerSizeCfg",$description:"Constraints on the height of the window."}}},ModuleCtrl:{$type:"json:MultiTypes",$description:"Module controller to be used in the template. It can be specified either directly with an instance of the public interface of the module controller (containing a getData method), or as a description of how to create it.",
$contentTypes:[{$type:"json:ObjectRef",$description:"Instance of the public interface of the module controller to be used in the template.",$mandatory:true},{$type:"InitModuleCtrl"}]},InitModuleCtrl:{$type:"json:Object",$description:"Description of how to create the module controller for a template.",$mandatory:true,$properties:{classpath:{$type:"json:PackageName",$description:"Classpath of the module controller.",$mandatory:true},autoDispose:{$type:"json:Boolean",$description:"If true, the module controller will be disposed when the template is disposed, otherwise, it will not be disposed.",
$default:true},constructorArgs:{$type:"json:ObjectRef",$description:"Parameter to be passed to the constructor of the module controller.",$mandatory:false},initArgs:{$type:"json:ObjectRef",$description:"Parameter to be passed to the init method of the module controller.",$mandatory:false}}},Div:{$type:"json:MultiTypes",$description:"Specify a div element in a page, either by its string id or by a reference to its HTMLDivElement.",$mandatory:true,$contentTypes:[{$type:"json:ObjectRef",$description:"The HTMLDivElement of the div."},
{$type:"json:String",$description:"Id of the div element in the document (must be accessible through aria.utils.Dom.getElementById)."}]},TemplateSizeCfg:{$type:"json:MultiTypes",$description:"Size of a template, which may either be relative to the size of the browser window, or be a fixed size.",$contentTypes:[{$type:"json:Integer",$description:"Fixed size of the template in pixels."},{$type:"RelativeTemplateSizeCfg"}]},RelativeTemplateSizeCfg:{$type:"json:Object",$description:"Size of the template, relative to the size of the window.",
$properties:{min:{$type:"json:Integer",$description:"Minimum size of the template.",$mandatory:true},incrementFactor:{$type:"json:Float",$description:"When the size of the browser window is larger than its minimum size (defined by Aria.setRootDim), the extra space multiplied by this incrementFactor is added to the minimum size of the template to set the size of the template.",$default:1},max:{$type:"json:Integer",$description:"Maximum size of the template.",$default:null}}},PrintOptions:{$type:"json:Enum",
$enumValues:["hidden","visible","adaptX","adaptY","adaptXY"],$description:"This determines how the element will be printed when using the printing command from the browser.",$default:"visible"},BaseLoadTemplateCfg:{$type:"json:Object",$description:"Private base configuration for a template load.",$properties:{classpath:{$type:"json:PackageName",$description:"Classpath of the template.",$mandatory:true},origClasspath:{$type:"json:PackageName",$description:"Original classpath of the template. Differs from classpath if a customization has been defined.",
$mandatory:false},printOptions:{$type:"PrintOptions",$default:"adaptXY"},width:{$type:"TemplateSizeCfg",$description:"Width of the template.",$mandatory:false},height:{$type:"TemplateSizeCfg",$description:"Height of the template.",$mandatory:false},data:{$type:"json:ObjectRef",$description:"JSON object to appear as this.data in the template.",$mandatory:false},moduleCtrl:{$type:"ModuleCtrl",$mandatory:false},args:{$type:"json:Array",$description:"Arguments to give to the main macro in the template.",
$default:[],$contentType:{$type:"json:MultiTypes",$description:"Any argument to give to the main macro in the template."}},rootDim:{$type:"RootDimCfg",$description:"This property is a shortcut for Aria.setRootDim. If this property is defined, Aria.loadTemplate makes a call to Aria.setRootDim with this property as its parameter.",$mandatory:false},provideContext:{$type:"json:Boolean",$description:"When set to true, the callback executed when the template is loaded will be passed the template context as argument",
$mandatory:false,$default:false},reload:{$type:"json:Boolean",$description:"Specifies if the template has to be retrieved from the server or if AT cache mechanism can be used.",$default:false},reloadByPassCache:{$type:"json:Boolean",$description:"If reload, timestamp will be added to bypass browser cache",$default:false}}},LoadTemplateCfg:{$type:"BaseLoadTemplateCfg",$description:"Argument of Aria.loadTemplate, which describes which template to load with which data and parameters.",$properties:{div:{$type:"Div",
$description:"Div in which the template should be loaded. The previous content of this div will be discarded.",$mandatory:true}}},InitTemplateCfg:{$type:"BaseLoadTemplateCfg",$description:"Description of the parameter of aria.templates.TemplateCtxt.initTemplate, with the description of which template to load, with which data and parameters. It is different from LoadTemplateCfg, as it does not accept a description of how to create a module controller (only an already created instance), but it accepts a macro parameter.",
$properties:{id:{$type:"json:String",$description:"Id of the template, to be used to generate sub-ids.",$mandatory:false},div:{$type:"Div",$description:"Div in which the template should be loaded. The previous content of this div will be discarded.",$mandatory:false},tplDiv:{$type:"Div",$description:"Div which will direclty contain the template. Can be omitted if not available yet, but in this case, you should call the getMarkup and linkToPreviousMarkup methods later.",$mandatory:false},macro:{$type:"MacroCfg"},
toDispose:{$type:"json:Array",$description:"Array of objects to dispose when the template is disposed.",$contentType:{$type:"json:ObjectRef",$description:"Object to dispose. Must have a $dispose method.",$mandatory:true}},baseTabIndex:{$type:"json:Integer",$description:"The base tab index that will be added to all tab indexes in the template.",$default:0},isRootTemplate:{$type:"json:Boolean",$description:"Specifies whether a template was loaded by loadTemplate.",$default:false},context:{$type:"json:ObjectRef",
$description:"Additional context used to build the template configuration.",$mandatory:false}}},InitCSSTemplateCfg:{$type:"json:Object",$mandatory:true,$description:"Description of the parameter of aria.templates.CSSCtxt.initTemplate, with the description of which template to load.",$properties:{classpath:{$type:"json:PackageName",$description:"CSS Template classpath.",$mandatory:true},isWidget:{$type:"json:Boolean",$description:"True if it's a CSS Template for a Widget.",$mandatory:false,$default:false},
widgetName:{$type:"json:String",$description:"Widget name. Optional argument if the Template is for a Widget",$mandatory:false,$default:""},isTemplate:{$type:"json:Boolean",$description:"True if it's a CSS Template for a normal Template.",$mandatory:false,$default:false}}},InitTxtTemplateCfg:{$type:"json:Object",$mandatory:true,$description:"Description of the parameter of aria.templates.TxtCtxt.initTemplate, with the description of which template to load.",$properties:{classpath:{$type:"json:PackageName",
$description:"Text Template classpath.",$mandatory:true},data:{$type:"json:ObjectRef",$description:"JSON object to appear as this.data in the template.",$mandatory:false}}},MacroCfg:{$type:"json:MultiTypes",$description:"Macro to be used when refreshing the template. By default, the main macro is used.",$contentTypes:[{$type:"json:String",$description:"Name of the macro. When this form is used, no parameter is sent to the macro."},{$type:"json:Object",$description:"",$properties:{name:{$type:"json:String",
$description:"Name of the macro."},args:{$type:"json:Array",$description:"Parameters of the macro.",$contentType:{$type:"json:MultiTypes",$description:"Any parameter to give to the macro."},$default:[]},scope:{$type:"json:ObjectRef",$description:"Reference to the object on which the macro is defined. This allows to call macros in macro libraries. By default, the scope is the template."}}}]},HtmlAttribute:{$type:"json:Object",$description:"HTML attributes that can safely be used in a template",$properties:{name:{$type:"json:String",
$description:"name given to the element"},title:{$type:"json:String",$description:"title of an element"},classList:{$type:"json:Array",$description:"Array of classnames for the element",$contentType:{$type:"json:String",$description:"space separated names of classes to which the element belongs to"}},dataset:{$type:"json:ObjectRef",$description:"Set of expando keys-values for the element"},style:{$type:"json:String",$description:"inline style for the element"},dir:{$type:"json:String",$description:"text direction for the content in the element"},
lang:{$type:"json:String",$description:"language code for the content in the element"},abbr:{$type:"json:String",$description:"abbreviation for the content of the element"},height:{$type:"json:String",$description:"height of the element"},width:{$type:"json:String",$description:"width of the element"},size:{$type:"json:String",$description:"specifies the width of an element"},cols:{$type:"json:String",$description:"specifies the size and number of columns in a frameset"},rows:{$type:"json:String",
$description:"specifies the size and number of rows in a frameset"},rowspan:{$type:"json:String",$description:"specifies the number of rows for a cell to span in a table"},colspan:{$type:"json:String",$description:"specifies the number of columns for a cell to span in a table"},nowrap:{$type:"json:String",$description:"boolean indicator to wrap contents of a table"},valign:{$type:"json:String",$description:"attribute specifying the vertical alignment of the contents of a cell in a table"},align:{$type:"json:String",
$description:"attribute specifying the alignment of the contents of a cell in a table"},border:{$type:"json:String",$description:"attribute to specify the width of the frame around a table in pixels"},cellpadding:{$type:"json:String",$description:"numeric value specifying spacing within cells"},cellspacing:{$type:"json:String",$description:"numeric value specifying spacing between cells"},disabled:{$type:"json:String",$description:"attribute used to disable an element"},readonly:{$type:"json:String",
$description:"attribute to specify a boolean value to make the contents of the element readonly"},checked:{$type:"json:String",$description:"attribute to preselect an element, usually used with input type checkbox or radio"},selected:{$type:"json:String",$description:"attribute to preselect the value of a element, usually a dropdown list"},multiple:{$type:"json:String",$description:"attribute to select multiple options at the same time"},value:{$type:"json:String",$description:"content to be displayed in the element"},
alt:{$type:"json:String",$description:"alternate text of the element"},maxlength:{$type:"json:String",$description:"maximum acceptable length for the content of the element"},type:{$type:"json:String",$description:"specifies the type of an input element"},accesskey:{$type:"json:String",$description:"keyboard shortcut that activates or focuses the element"},tabindex:{$type:"json:Integer",$description:"control whether an element is supposed to be focusable, and in what order it can be reached using sequantial focus navigation"},
placeholder:{$type:"json:String",$description:"short hint intended to aid the user with data entry"}}},SectionCfg:{$type:"json:Object",$description:"Contains configuration description for a section statement.",$properties:{id:{$type:"json:String",$description:"Id of the section.",$mandatory:true},type:{$type:"json:String",$description:"DOM type for this section.",$default:"span"},bindRefreshTo:{$type:"json:Array",$description:"Binding configurations for this section. If specified, this section will refresh automatically if a change is made on the data it is bind to.",
$default:[],$contentType:{$type:"BindingConfiguration",$description:"Description of a binding.",$sample:"{inside : ..., to : ...}"}},bindProcessingTo:{$type:"BindingConfiguration",$description:"Loading overlay binding configurations for this section. If specified, this section will be hidden by a loading indicator when the value in the datamodel is true.",$mandatory:false},keyMap:{$type:"json:Array",$description:"Configuration for the keyMap inside this section.",$mandatory:false,$contentType:{$type:"KeyMapCfg",
$description:"keymap configuration"}},tableNav:{$type:"TableNavConfiguration",$description:"Configuration for the table navigation inside this section.",$mandatory:false},processingLabel:{$type:"json:String",$description:"Text message to display in the loading indicator.",$mandatory:false,$default:""},macro:{$type:"MacroCfg",$description:"Macro to call to fill the section. It must not be defined if the section statement is used as a container."},cssClass:{$type:"json:String",$description:"[DEPRECATED] Use classList inside attributes instead. CSS class or space separated classes to apply to the DOM element of the section."},
attributes:{$type:"HtmlAttribute",$description:"Parameters to apply to the DOM element of the section."}}},RepeaterCfg:{$type:"SectionCfg",$description:"Configuration description for a repeater statement.",$mandatory:true,$properties:{content:{$type:"json:ObjectRef",$description:"Iterated set, which can be an array, a map or a view. Note that the support for views is not implemented yet.",$mandatory:true},loopType:{$type:"json:Enum",$description:"How to iterate over the set (same meaning as in the foreach statement). If not specified, it is automatically set to array, pagedView or map depending on the type of object given in content.",
$enumValues:["array","pagedView","sortedView","filteredView","view","map"],$mandatory:false},childSections:{$type:"json:Object",$restricted:false,$description:"Properties of child sections. All the properties from aria.templates.CfgBeans.SectionCfg are supported. Each property accepts either a constant value (to have the same value for all child sections) or a callback function to make the value depend on the child section.",$properties:{id:{$type:"json:MultiTypes",$description:"Id of the child section. If a constant value is given (as opposed to a callback function), a child-dependent suffix will be automatically appended to this id for each child section.",
$mandatory:true},macro:{$type:"json:MultiTypes",$description:"Macro to be called to fill the child section. If a constant value is given (as opposed to a callback function), the macro will be called with an additional parameter describing the item.",$mandatory:true}}},macro:{$type:"SectionCfg.macro",$description:"This property from sections is not supported for repeaters."}}},BindingConfiguration:{$type:"json:Object",$description:"Configuration for a binding between a value in the datamodel and an object.",
$properties:{to:{$type:"json:JsonProperty",$description:"Name of the JSON property to bind to. If not specified, will be triggered for any change in the container.",$default:null},inside:{$type:"json:ObjectRef",$description:"Reference to the object that holds the property to bind to",$mandatory:true},recursive:{$type:"json:Boolean",$description:"Listen to change of the element, or listen for recursive changes",$default:true}}},TableNavConfiguration:{$type:"json:MultiTypes",$description:"Configuration the navigation on tables."},
RefreshCfg:{$type:"json:Object",$description:"Contains information about what to refresh in a template and how to do it.",$default:{},$properties:{macro:{$type:"MacroCfg",$mandatory:false},filterSection:{$type:"json:String",$description:"Id of the section to filter. If specified, the section with this id must exist in the macro called for the refresh, and any output outside the specified section is ignored.",$mandatory:false},outputSection:{$type:"json:String",$description:"Id of the section to replace. By default, its value is the one of filterSection. If null, the whole template is replaced.",
$mandatory:false}}},GetRefreshedSectionCfg:{$type:"RefreshCfg",$properties:{writerCallback:{$type:"json:ObjectRef",$description:"If specified, macro is ignored and this callback is called instead, with the out object (MarkupWriter) as its parameter."}}},InsertAdjacentSectionsCfg:{$type:"json:Object",$description:"Parameter required (by aria.templates.TemplateCtxt.insertAdjacentSections) to dynamically insert new sections in the DOM.",$mandatory:true,$properties:{sections:{$type:"json:Array",$description:"Array of the sections to be inserted in the DOM.",
$mandatory:true,$contentType:{$type:"json:MultiTypes",$mandatory:true,$description:"",$contentTypes:[{$type:"json:String",$description:"Id of the new section."},{$type:"SectionCfg",$description:"Configuration of the new section."}]}},refSection:{$type:"json:Object",$mandatory:true,$description:"Existing reference section near which new sections will be added.",$properties:{object:{$type:"json:ObjectRef",$classpath:"aria.templates.Section",$description:"Section object.",$mandatory:true},domElt:{$type:"json:ObjectRef",
$description:"DOM element corresponding to the section object.",$mandatory:true}}},position:{$type:"json:Enum",$description:"Where to insert new sections relative to refSection.",$mandatory:true,$enumValues:["beforeBegin","afterBegin","beforeEnd","afterEnd"]}}},SubModuleDefinition:{$type:"json:Object",$description:"Definition of a sub-module - as required by the loadSubModules() method",$mandatory:true,$properties:{refpath:{$type:"json:String",$description:"Reference Path - If the submodule is private, this path should start with an underscore character and will refer to the module controller - otherwise this path will be considered public and will refer to the data model root, so that the submodule will be visible from the data model",
$regExp:/./,$mandatory:true,$sample:"pkg1.module"},arrayIndex:{$type:"json:Integer",$description:"(optional) Index of the sub-module in the parent Array - if not provided, we assume the sub-module must not be stored in an Array (the map key will be used to either create an Array or a single reference)",$mandatory:false},classpath:{$type:"json:PackageName",$description:"Classpath of the sub-module controller class",$mandatory:true},initArgs:{$type:"json:ObjectRef",$description:"Argument object that should be passed to the sub-module init method - if null an empty object will be used",
$mandatory:false},display:{$type:"json:String",$description:"[DEPRECATED] should not be used",$mandatory:false}}},TplScriptDefinitionCfg:{$type:"json:Object",$description:"Parameter to pass to Aria.tplScriptDefinition method.",$properties:{$classpath:{$type:"json:PackageName",$description:"The fully qualified class path of the generated class.",$mandatory:true,$sample:"aria.jsunit.TestSuite"},$dependencies:{$type:"json:Array",$description:"Additional dependencies",$default:[],$contentType:{$type:"json:PackageName",
$description:"Any class that the generated class is dependent of."}},$resources:{$type:"json:Map",$description:"Resource class to be accessible inside the generated class.",$contentType:{$type:"json:MultiTypes",$description:"Any resource class that the generated class is dependent of.",$sample:"aria.widgets.WidgetsRes",$contentTypes:[{$type:"json:Object",$description:"Resource provider."},{$type:"json:String",$description:"Classpath of the resource class."}]}},$texts:{$type:"json:Map",$description:"Text templates used inside the generated class.",
$contentType:{$type:"json:PackageName",$description:"Classpath of the text template.",$mandatory:true}},$statics:{$type:"json:Map",$description:"Methods and properties that are common to all instances of the generated class.",$contentType:{$type:"json:MultiTypes",$description:"Property or method."}},$prototype:{$type:"json:MultiTypes",$description:"Either a function or a map",$contentTypes:[{$type:"json:Map",$description:"Methods and properties in the prototype of the class.",$contentType:{$type:"json:MultiTypes",
$description:"Property or method."}},{$type:"json:FunctionRef",$description:"Reference to a JavaScript function, the function should return an object that will be the prototype."}]},$constructor:{$type:"json:FunctionRef",$description:"Constructor function to run when the object is created through the new statement."},$destructor:{$type:"json:FunctionRef",$description:"Destructor function to run when the object has to be deleted - must be called through the '$destructor()' method that will be automatically added to the object."}}},
KeyMapCfg:{$type:"json:Object",$description:"Configuration of a single keymap",$properties:{key:{$type:"json:MultiTypes",$description:"description of the key",$mandatory:true,$contentTypes:[{$type:"json:Integer",$description:"key code"},{$type:"json:String",$description:"String representing the key or wildcard",$sample:"F4"}]},ctrl:{$type:"json:Boolean",$description:"Whether or not the ctrl key has to pressed"},shift:{$type:"json:Boolean",$description:"Whether or not the shift key has to pressed"},
alt:{$type:"json:Boolean",$description:"Whether or not the alt key has to pressed"},callback:{$type:"json:MultiTypes",$description:"handler for the keymap",$mandatory:true,$contentTypes:[{$type:"json:FunctionRef",$description:"handler to be called"},{$type:"coreBeans:Callback",$description:"callback object"}]},event:{$type:"json:Enum",$description:"Whether the handler has to be called on keydown or on keyup",$enumValues:["keyup","keydown"]}}},GlobalKeyMapCfg:{$type:"KeyMapCfg",$description:"Configuration of a global keymap",
$properties:{modal:{$type:"json:Boolean",$description:"Enable the keyboard navigation for dialog",$default:false}}}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/ClassGenerator.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.ClassGenerator",$dependencies:["aria.templates.ClassWriter","aria.templates.TreeBeans","aria.templates.CfgBeans","aria.templates.Statements","aria.templates.Modifiers"],$singleton:false,$constructor:function(){this._templateParamBean=this._rootStatement=this._classType=this._superClass=this._parser=null;this.STATEMENTS={};this.ALLSTATEMENTS=aria.templates.Statements.ALLSTATEMENTS;this._loadStatements(["#ROOT#","#TEXT#","#CDATA#","#EXPRESSION#","if",
"elseif","else","for","foreach","separator","var","set","memo"]);this._isDebug=aria.core.environment.Environment.isDebug();aria.core.environment.Environment.$on({debugChanged:function(){this._isDebug=aria.core.environment.Environment.isDebug()},scope:this})},$statics:{TEMPLATE_STATEMENT_EXPECTED:"Template error: please check that the whole template is enclosed in a '%1' statement.",ERROR_IN_TEMPLATE_PARAMETER:"Template error, while evaluating the parameter of the '%1' statement.",CHECK_ERROR_IN_TEMPLATE_PARAMETER:"Template error: the parameter of the '%1' statement does not respect the bean definition.",
UNKNOWN_STATEMENT:"line %2: Template error: unknown statement '%1'.",EXPECTED_CONTAINER:"line %2: Template error: statement '%1' must be used as a container.",UNEXPECTED_CONTAINER:"line %2: Template error: statement '%1' cannot be used as a container.",SHOULD_BE_OUT_OF_MACRO:"line %2: Template error: statement '%1' cannot be used in a macro.",INVALID_STATEMENT_SYNTAX:"line %3: Template error: invalid parameter for statement '%1'; it should respect the regular expression %2."},$prototype:{parseTemplate:function(a,
b,c,d,e){a=this._parser.parseTemplate(a,d,this.STATEMENTS);a==null?this.$callback(c,{classDef:null}):this.__buildClass(a,b,c,d,e)},parseTemplateFromTree:function(a,b,c,d,e){this.__buildClass(a,b,c,d,e)},_loadStatements:function(a){for(var b=0,c=a.length;b<c;b+=1){var d=a[b];this.STATEMENTS[d]=this.ALLSTATEMENTS[d]}},getStatements:function(){return this.STATEMENTS},__buildClass:function(a,b,c,d,e){aria.core.JsonValidator.check(a,"aria.templates.TreeBeans.Root");var f=new aria.templates.ClassWriter({fn:this.__processStatement,
scope:this},{fn:this.__logError,scope:this});f.errorContext=d;f.allDependencies=b;f.callback=c;f.tree=a;f.debug=e===true;this._processRootStatement(f,a);if(f.errors){f.$dispose();this.$callback(c,{classDef:null})}},_processRootStatement:function(a,b){var c=b.content[0];if(b.content.length!=1||c.name!=this._rootStatement)return a.logError(b,this.TEMPLATE_STATEMENT_EXPECTED,[this._rootStatement]);if(c.content==null)return a.logError(c,this.EXPECTED_CONTAINER,[this._rootStatement]);var d;try{d=eval("("+
c.paramBlock+")")}catch(e){return a.logError(c,this.ERROR_IN_TEMPLATE_PARAMETER,[this._rootStatement],e)}if(!aria.core.JsonValidator.normalize({json:d,beanName:this._templateParamBean}))return a.logError(c,this.CHECK_ERROR_IN_TEMPLATE_PARAMETER,[this._rootStatement]);a.templateParam=d;this._processTemplateContent({out:a,statement:c})},__processStatement:function(a,b){var c=b.name;if(c.charAt(0)=="@")c="@";var d=this.STATEMENTS[c];if(d==null)a.logError(b,this.UNKNOWN_STATEMENT,[c]);else if(d.container===
true&&b.content===undefined)a.logError(b,this.EXPECTED_CONTAINER,[c]);else if(d.container===false&&b.content!==undefined)a.logError(b,this.UNEXPECTED_CONTAINER,[c]);else if(d.inMacro!==undefined&&a.isOutputReady()!==d.inMacro)d.inMacro?a.logError(b,aria.templates.Statements.SHOULD_BE_IN_MACRO,[c]):a.logError(b,this.SHOULD_BE_OUT_OF_MACRO,[c]);else if(d.paramRegexp){var e=d.paramRegexp.exec(b.paramBlock);if(e==null)a.logError(b,this.INVALID_STATEMENT_SYNTAX,[c,d.paramRegexp]);else{this._isDebug&&a.trackLine(b.lineNumber);
d.process(a,b,e)}}else{this._isDebug&&a.trackLine(b.lineNumber);d.process(a,b)}},__logError:function(a,b,c,d){if(c==null)c=[];c.push(a.lineNumber);this.$logError(b,c,d)},_createBlocks:function(a){a.newBlock("classDefinition",0);a.newBlock("prototype",2);a.newBlock("globalVars",5);a.newBlock("initTemplate",3);a.newBlock("classInit",3)},_writeClassDefHeaders:function(a){var b=a.templateParam;a.writeln("Aria.classDefinition({");a.increaseIndent();a.writeln("$classpath: ",a.stringify(b.$classpath),",");
a.parentClasspath&&a.writeln("$extends: ",a.stringify(a.parentClasspath),",");a.parentClassType!="JS"&&a.writeln("$extendsType: ",a.stringify(a.parentClassType),",")},_getClassName:function(a){a=a.split(".");return a[a.length-1]},_processInheritance:function(a){var b=a.templateParam;if(b.$extends){a.parentClasspath=b.$extends;a.parentClassType=this._classType}else a.parentClasspath=this._superClass;if(a.parentClasspath)a.parentClassName=this._getClassName(a.parentClasspath)},_processScript:function(a){var b=
a.templateParam;if(b.$hasScript){a.scriptClasspath=b.$classpath+"Script";a.scriptClassName=this._getClassName(a.scriptClasspath);a.addDependency(a.scriptClasspath)}},_writeConstructor:function(a){a.writeln("$constructor: function() {");a.increaseIndent();var b=a.parentClassName;b&&a.writeln("this.$",b,".constructor.call(this);");(b=a.scriptClassName)&&a.writeln("this.$",b,".constructor.call(this);");a.decreaseIndent();a.writeln("},")},_writeDestructor:function(a){a.writeln("$destructor: function() {");
a.increaseIndent();var b=a.scriptClassName;b&&a.writeln("this.$",b,".$destructor.call(this);");(b=a.parentClassName)&&a.writeln("this.$",b,".$destructor.call(this);");a.decreaseIndent();a.writeln("},")},_writeDependencies:function(a){var b=a.templateParam,c=aria.utils.Json;a.writeln(a.getDependencies());b.$res&&a.writeln("$resources: ",c.convertToJsonString(b.$res),",");b.$templates&&a.writeln("$templates: ",c.convertToJsonString(b.$templates),",");b.$css&&a.writeln("$css: ",c.convertToJsonString(b.$css),
",");if(b.$macrolibs){var d=aria.utils.Array.extractValuesFromMap(b.$macrolibs);d.length>0&&a.writeln("$macrolibs: ",c.convertToJsonString(d),",")}b.$texts&&a.writeln("$texts: ",c.convertToJsonString(b.$texts),",")},_writeMapInheritance:function(a,b,c,d){if(a.parentClassType==this._classType){if(c){d=a.newVarName();a.writeln("var ",d," = {};");a.writeln("Aria.copyObject(proto.",b,",",d,");");a.writeln("Aria.copyObject(",aria.utils.Json.convertToJsonString(c),",",d,");");a.writeln("proto.",b," = ",
d,";")}}else{c=c?aria.utils.Json.convertToJsonString(c):d;a.writeln("proto.",b," = ",c,";")}},_writeValueInheritance:function(a,b,c,d){if(a.parentClassType==this._classType)c&&a.writeln("proto.",b," = ",aria.utils.Json.convertToJsonString(c),";");else{c=c?aria.utils.Json.convertToJsonString(c):d;a.writeln("proto.",b," = ",c,";")}},_writeClassInit:function(a){var b=a.scriptClasspath;if(b){a.enterBlock("classInit");a.writeln("aria.core.TplClassLoader._importScriptPrototype("+b+",proto)");a.leaveBlock()}b=
a.getBlockContent("classInit");if(b.length>0){a.writeln("$init: function(proto) {");a.increaseIndent();a.write(b);a.decreaseIndent();a.writeln("},")}},_writeInitTemplate:function(a){a.writeln("__$initTemplate: function() {");a.increaseIndent();a.parentClassType==this._classType&&a.writeln("if (! this.$",a.parentClassName,".__$initTemplate.call(this)) { return false; }");a.write(a.getBlockContent("initTemplate"));var b=a.getBlockContent("globalVars");if(b.length>0){a.writeln("try {");a.increaseIndent();
a.writeln("with (this) {");a.increaseIndent();a.write(b);a.decreaseIndent();a.writeln("}");a.decreaseIndent();a.writeln("} catch (_ex) {");a.increaseIndent();a.writeln("this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex);");a.writeln("return false;");a.decreaseIndent();a.writeln("}")}a.writeln("return true;");a.decreaseIndent();a.writeln("}")},_writeClassDefEnd:function(a){a.writeln("$prototype: {");a.increaseIndent();a.write(a.getBlockContent("prototype"));a.decreaseIndent();a.writeln("}");
a.decreaseIndent();a.writeln("})");a.leaveBlock()},_processTemplateContent:function(a){var b=a.out;a=a.statement;b.addDependencies(b.templateParam.$dependencies);this._createBlocks(b);this._processInheritance(b);this._processScript(b);b.enterBlock("classDefinition");this._writeClassDefHeaders(b);this._writeConstructor(b);this._writeDestructor(b);b.leaveBlock();b.processContent(a.content);if(b.errors){b.$dispose();this.$callback(b.callback,{classDef:null});b.errors=false}else{b.enterBlock("prototype");
this._writeClassInit(b);this._writeInitTemplate(b);b.leaveBlock();b.enterBlock("classDefinition");this._writeDependencies(b);this._writeClassDefEnd(b);b.leaveBlock();a=null;a=b.getBlockContent("classDefinition");b.$dispose();this.$callback(b.callback,{classDef:a,tree:b.tree,debug:b.debug})}}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/ClassWriter.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.ClassWriter",$dependencies:["aria.utils.String"],$constructor:function(a,b){this._processStatement=a;this._processErrors=b;this._curindent="";this.indentUnit=" ";this._varNameNumber=0;this.templateParam=this.allDependencies=this.errorContext=null;this.parentClassType="JS";this.callback=this.scriptClasspath=this.scriptClassName=this.parentClasspath=this.parentClassName=null;this.wlibs={};this.macros={};this.views={};this._curblock=null;this._blocks=
{};this._stack=[];this._dependencies=[];this.debug=this.errors=false;this.tree=null},$prototype:{addDependencies:function(a){for(var b=a.length-1;b>=0;b--)this.addDependency(a[b])},addDependency:function(a){this._dependencies[a]=1},getDependencies:function(){var a=[],b;for(b in this._dependencies)this._dependencies.hasOwnProperty(b)&&a.push(this.stringify(b));return a.length>0?["$dependencies: [",a.join(","),"],"].join(""):""},getMacro:function(a){var b=this.macros[a];if(b==null){b={};this.macros[a]=
b}return b},getView:function(a){var b=this.views[a];if(b==null){b={};this.views[a]=b}return b},isOutputReady:function(){return this._curblock!=null},newBlock:function(a,b){this._blocks[a]={curindentnbr:b,out:[]}},enterBlock:function(a){this._stack.push(this._curblock);this._curblock=this._blocks[a];this.indentUnit&&this._curblock&&this._updateIndent()},leaveBlock:function(){this._curblock=this._stack.pop();this.indentUnit&&this._curblock&&this._updateIndent()},getBlockContent:function(a){return this._blocks[a].out.join("")},
stringify:function(a){this.stringify=aria.utils.String.stringify;return this.stringify(a)},newVarName:function(){this._varNameNumber++;return"__v_"+this._varNameNumber+"_"+parseInt(10*Math.random())},processContent:function(a){for(var b=0;b<a.length;b++)this.processStatement(a[b])},processStatement:function(a){this._processStatement.fn.call(this._processStatement.scope,this,a)},_updateIndent:function(){this._curindent=Array(1+this._curblock.curindentnbr).join(this.indentUnit)},logError:function(a,
b,c){this.errors=true;this._processErrors.fn.call(this._processErrors.scope,a,b,c,this.errorContext)},logWarn:function(a,b,c){this._processErrors.fn.call(this._processErrors.scope,a,b,c,this.errorContext)},increaseIndent:function(){if(this.indentUnit){this._curblock.curindentnbr++;this._curindent+=this.indentUnit}},decreaseIndent:function(){if(this.indentUnit){this._curblock.curindentnbr--;this._updateIndent()}},writeln:function(){var a=this._curblock.out;this._curindent&&a.push(this._curindent);
a.push.apply(a,arguments);a.push("\n")},write:function(){var a=this._curblock.out;a.push.apply(a,arguments)},wrapExpression:function(a,b,c){var d=this.newVarName();a=this.stringify(a);this.writeln("var "+d+" = null;");this.writeln("try {");this.increaseIndent();a=a.substr(1,a.length-2);this.writeln('eval( "'+d+"=("+a+')" );');this.decreaseIndent();this.writeln("} catch (e) {");this.increaseIndent();this.writeln("this.$logError(",c,',["',a,'",',b.lineNumber,",",this.stringify(b.name),"], e);");this.decreaseIndent();
this.writeln("}");return d},trackLine:function(a){this._curblock&&this.writeln("this['"+Aria.FRAMEWORK_PREFIX+"currentLineNumber'] = "+a+";")}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/CSSClassGenerator.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.CSSClassGenerator",$extends:"aria.templates.ClassGenerator",$singleton:true,$dependencies:["aria.templates.CSSParser"],$constructor:function(){this.$ClassGenerator.constructor.call(this);this.$ClassGenerator._loadStatements.call(this,["CSSTemplate","macro","call"]);this._parser=aria.templates.CSSParser;this._superClass="aria.templates.CSSTemplate";this._classType="CSS";this._rootStatement="CSSTemplate";this._templateParamBean="aria.templates.CfgBeans.CSSTemplateCfg"},
$prototype:{}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/CSSCtxt.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.CSSCtxt",$dependencies:["aria.templates.CfgBeans","aria.utils.String","aria.widgets.AriaSkinInterface"],$implements:["aria.templates.ICSS"],$extends:"aria.templates.BaseCtxt",$constructor:function(){this.$BaseCtxt.constructor.apply(this,arguments);this.tplClasspath=null;this.__prefixedText=this.__prefix="";this.__numSelectors=NaN},$destructor:function(){if(this._tpl){try{this._tpl.$dispose()}catch(a){this.$logError(this.TEMPLATE_DESTR_ERROR,[this.tplClasspath],
a)}aria.templates.ICSS.prototype.$destructor.call(this._tpl);this._tpl=null}this.moduleCtrlPrivate=this.moduleCtrl=this.moduleRes=this.data=null;this.$BaseCtxt.$destructor.call(this)},$statics:{MEDIA_RULE:/@media\b/},$prototype:{initTemplate:function(a){if(!aria.core.JsonValidator.normalize({json:a,beanName:"aria.templates.CfgBeans.InitCSSTemplateCfg"}))return false;this._cfg=a;var b=Aria.getClassInstance(a.classpath);if(!b){this.$logError(this.TEMPLATE_CONSTR_ERROR,[a.classpath]);return false}this._tpl=
b;a.macro=this.checkMacro({name:"main",args:a.args});this.tplClasspath=a.classpath;aria.templates.ICSS.call(b,this);var d=this;b.__$write=function(){return d.__$write.apply(d,arguments)};if(!b.__$initTemplate())return false;return true},doPrefixing:function(){return!this._cfg.isWidget},isWidget:function(){return this._cfg.isWidget},isTemplate:function(){return this._cfg.isTemplate},prefixText:function(a){this.$assert(139,this._out==null);this._out=[];this._callMacro(null,"main");var b=this._out.join("");
this._out=null;a=this.__prefixingAlgorithm(b,"."+a+" ");this.__prefixedText=a.text;this.__numSelectors=a.selectors},__prefixingAlgorithm:function(a,b){var d=a.split("}"),j=d.length;if(j<2)return{text:a,selectors:0};for(var h=aria.utils.String.trim,m=this.MEDIA_RULE,e,c,f,k=0,g=0;g<j;g+=1){e=d[g].split("{");if(c=h(e[0])){var l=m.test(c);if(l){e[0]=c;c=h(e[1]);if(!c)continue}c=c.split(",");f=[];for(var i=0,n=c.length;i<n;i+=1){f.push(b+h(c[i]));k+=1}if(l){f[0]="\n"+f[0];e[1]=f.join(", ")}else e[0]=
f.join(", ");d[g]=e.join(" {")}}return{text:d.join("}\n"),selectors:k}},getText:function(){return this._cfg.isWidget?this.__getWidgetText():this.__prefixedText},__getWidgetText:function(){this.$assert(139,this._out==null);this._out=[];this._callMacro(null,"main");var a=this._out.join("");this._out=null;return a},getNumLines:function(){return this.__numSelectors},__$write:function(a){this._out=this._out.concat(a)}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/CSSCtxtManager.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.CSSCtxtManager",$dependencies:["aria.templates.CSSCtxt"],$singleton:true,$constructor:function(){this._contexts={}},$destructor:function(){this.reset()},$prototype:{getContext:function(c,a){var b=this._contexts[c];if(!b){b=new aria.templates.CSSCtxt;a||(a={});a.classpath=c;b.initTemplate(a);this._contexts[c]=b}return b},disposeContext:function(c){var a=this._contexts[c];if(a){a.$dispose();delete this._contexts[c]}},reset:function(){var c=[],a=this._contexts,
b;for(b in a)if(a.hasOwnProperty(b)){c.push(b);a[b].$dispose()}this._contexts={};return c}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/CSSMgr.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.CSSMgr",$singleton:true,$dependencies:["aria.templates.CSSCtxtManager","aria.utils.Array","aria.utils.Object","aria.utils.AriaWindow"],$statics:{__NEXT_PREFIX_INDEX:0,__PREFIX:"CSS",__NEXT_TAG_INDEX:1,__TAG_PREFX:"xCss",CSSTEMPLATE_MAX_SELECTORS_REACHED:"More than 4000 CSS selectors are loaded at the same time. Please check your CSS Templates"},$events:{dependenciesLoaded:{description:"All the CSS Templates depencies for a given Template are loaded",
properties:{templateClasspath:"{String} classpath of the template for which the dependencies are loaded"}},dependenciesUnloaded:{description:"All the CSS Templates depencies for a given Template are unloaded",properties:{templateClasspath:"{String} classpath of the template for which the dependencies are unloaded"}},styleChange:{description:"The content of the style tag has changed",properties:{templateClasspath:"{String} classpath of the template that caused the style tag to change"}}},$constructor:function(){this.__cssUsage=
{};this.__globalUsage={};this.__prefixes={};this.__pathsLoaded=[];this.__textLoaded={};this.__styleTagAssociation={};this.__styleTagPool={};this.__cssDependencies={};this.__invalidClasspaths={};this.__invalidStack=[];this.__isStopped=false;this.__queuedChanges=[];this.__attachedToWindow=false;aria.utils.AriaWindow.$on({unloadWindow:this.reset,scope:this})},$destructor:function(){this.reset();this.__styleTagPool=null;aria.utils.AriaWindow.$unregisterListeners(this)},$prototype:{__checkAttachedToWindow:function(){if(!this.__attachedToWindow){this.__attachedToWindow=
true;aria.utils.AriaWindow.attachWindow()}},loadDependencies:function(b){this.$assert(133,b.$TemplateCtxt);var a=b.getCSSDependencies();b=b.tplClasspath;a=this.loadClassPathDependencies(b,a,{isTemplate:true});a.changes&&this.$raiseEvent({name:"styleChange",templateClasspath:b});this.$raiseEvent({name:"dependenciesLoaded",templateClasspath:b});return a.classes},loadWidgetDependencies:function(b,a){if(this.__cssDependencies[b])a=this.__cssDependencies[b];else{var c=Aria.getClassRef(b),d={};if(a)for(var e=
0,f=a.length;e<f;e++)d[a[e]]=true;for(c=c.superclass;c;){var g=c.$css;if(g){e=0;for(f=g.length;e<f;e++)d[g[e]]=true}c=c.constructor.superclass}a=aria.utils.Object.keys(d);this.__cssDependencies[b]=a}this.loadClassPathDependencies(b,a,{isWidget:true})},loadClassPathDependencies:function(b,a,c){if(a){for(var d=[],e=[],f=0,g=a.length;f<g;f+=1){var h=a[f],i={},j;for(j in c)if(c.hasOwnProperty(j))i[j]=c[j];d=this.__load(b,h,i).concat(d);this.__prefixes[h]&&e.push(this.__prefixes[h])}d.length&&this.__textToDOM(d);
return{classes:e,changes:!!d.length}}},__load:function(b,a,c){this.$assert(195,b&&a);var d=this.__cssUsage[a];if(d&&d.length){d.push(b);this.__pathsLoaded.push(a);if(!this.__invalidClasspaths[a])return[]}else this.__cssUsage[a]=[b];delete this.__invalidClasspaths[a];b=aria.templates.CSSCtxtManager.getContext(a,c);a.indexOf("aria.widgets.css")===0&&a.indexOf("Global")>-1&&this.__getPrefix(a);if(b.doPrefixing()){c=this.__getPrefix(a);b.prefixText(c)}this.__textLoaded[a]={text:b.getText(),lines:b.getNumLines()};
b=this.__getStyleTag(b);this.__styleTagAssociation[a]=b;this.__pathsLoaded.push(a);return[b]},__getStyleTag:function(b){var a=this.__styleTagAssociation[b.tplClasspath];if(a)return a;if(b.isTemplate())a="tpl";else if(b.isWidget())a="wgt";else{a="pool"+this.__NEXT_TAG_INDEX;this.__NEXT_TAG_INDEX+=1}return a},unloadWidgetDependencies:function(b,a){if(this.__cssDependencies[b])a=this.__cssDependencies[b];this.unloadClassPathDependencies(b,a)},unloadClassPathDependencies:function(b,a){if(a)for(var c=
0,d=a.length;c<d;c+=1)this.__unload(b,a[c])},unloadDependencies:function(b){this.$assert(169,b.$TemplateCtxt);var a=b.getCSSDependencies();b=b.tplClasspath;this.unloadClassPathDependencies(b,a);this.$raiseEvent({name:"dependenciesUnloaded",templateClasspath:b})},__getPrefix:function(b){var a=this.__prefixes[b];if(!a){a=this.__PREFIX+this.__NEXT_PREFIX_INDEX;this.__NEXT_PREFIX_INDEX+=1;this.__prefixes[b]=a}return a},__unload:function(b,a){this.$assert(230,b&&a);var c=aria.utils.Array.remove,d=this.__cssUsage[a];
if(d&&d.length){c(d,b);c(this.__pathsLoaded,a);if(!d.length){delete this.__cssUsage[a];delete this.__textLoaded[a]}}},__textToDOM:function(b){if(this.__isStopped)this.__queuedChanges=b.concat(this.__queuedChanges);else{for(var a=this.__sortPaths(),c=0,d={},e=aria.utils.Array,f=0,g=a.length;f<g;f+=1){var h=a[f],i=this.__styleTagAssociation[h];if(e.contains(b,i)){d[i]||(d[i]=[]);d[i].push("/**",h,"**/",this.__textLoaded[h].text);c+=this.__textLoaded[h].lines||0}}c>4E3&&this.$logWarn(this.CSSTEMPLATE_MAX_SELECTORS_REACHED);
return this.__reloadStyleTags(d)}},__sortPaths:function(){var b=this.__prefixes,a=this.__PREFIX.length,c=aria.utils.Object.keys(this.__textLoaded).sort(function(d,e){var f=b[d]?parseInt(b[d].substring(a),10):Number.MAX_VALUE,g=b[e]?parseInt(b[e].substring(a),10):Number.MAX_VALUE;if(f===g)return 0;return f>g?1:-1});a=b=null;return c},__reloadStyleTags:function(b){for(var a in b)if(b.hasOwnProperty(a)){var c=this.__buildStyleIfMissing(a),d=b[a].join("\n");if(c.styleSheet)c.styleSheet.cssText=d;else{d=
Aria.$window.document.createTextNode(d);c.firstChild?c.replaceChild(d,c.firstChild):c.appendChild(d)}}},__buildStyleIfMissing:function(b){var a=this.__styleTagPool[b];if(!a){a=Aria.$window.document;var c=a.getElementsByTagName("head")[0];a=a.createElement("style");a.id=this.__TAG_PREFX+b;a.type="text/css";a.media="all";c.appendChild(a);a=c.lastChild;this.__styleTagPool[b]=a}return a},reset:function(){for(var b in this.__styleTagPool)this.__styleTagPool.hasOwnProperty(b)&&this.__styleTagPool[b].parentNode.removeChild(this.__styleTagPool[b]);
if(this.__attachedToWindow){aria.utils.AriaWindow.detachWindow();this.__attachedToWindow=false}this.__styleTagPool={};this.__textLoaded={};this.__pathsLoaded=[];this.__prefixes={};this.__cssUsage={};this.__styleTagAssociation={};this.__invalidClasspaths={};this.__cssDependencies={};this.__PREFIX=this.classDefinition.$statics.__PREFIX;this.__NEXT_PREFIX_INDEX=this.classDefinition.$statics.__NEXT_PREFIX_INDEX;this.__NEXT_TAG_INDEX=this.classDefinition.$statics.__NEXT_TAG_INDEX;this.__TAG_PREFX=this.classDefinition.$statics.__TAG_PREFX},
invalidate:function(b,a){aria.templates.CSSCtxtManager.disposeContext(b);if(!this.__invalidClasspaths[b]&&a){this.__invalidClasspaths[b]=true;this.__invalidStack.push(b)}},stop:function(){this.__isStopped=true},resume:function(){this.__isStopped=false;var b=this.__queuedChanges;this.__queuedChanges=[];if(b.length>0)return this.__textToDOM(b)},registerDependencies:function(b,a){for(var c=0,d;d=a[c];c++){this.__globalUsage[d]||(this.__globalUsage[d]=[]);this.__globalUsage[d].push(b)}},unregisterDependencies:function(b,
a,c,d){for(var e=aria.utils.Array,f=aria.core.ClassMgr,g=0,h;h=a[g];g++){var i=this.__globalUsage[h];e.remove(i,b);if(c){f.unloadClass(h,d);this.invalidate(h,i.length>0)}}},getInvalidClasspaths:function(b){var a=this.__invalidStack;if(b)this.__invalidStack=[];return a}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/CSSParser.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.CSSParser",$extends:"aria.templates.Parser",$dependencies:["aria.utils.String"],$singleton:true,$constructor:function(){this.$Parser.constructor.apply(this,arguments)},$statics:{MISSING_OPENINGBRACES:"line %1: Template parsing error: could not find corresponding '{'."},$prototype:{parseTemplate:function(k,d,i){this.context=d;this._prepare(k);if(!this.__preprocess(i))return null;this._computeLineNumbers();return this._buildTree()},__preprocess:function(k){for(var d=
this.template,i=aria.utils.String,a=0,b=-1,c=-1,g=[],m=/^\{[\s\/]*?([\w]+)\b/,f=0,j=d.length,h=-1,e=0,l=-1;f<j;){if(b<a)b=i.indexOfNotEscaped(d,"{",a);if(c<a)c=i.indexOfNotEscaped(d,"}",a);if(b>-1&&(c>b||c==-1)){if(e==0)l=b;e++;if(h==-1)if(d.charAt(b-1)=="$")h=e;else{a=d.substring(b,c);if((a=m.exec(a))&&k[a[1]])h=e;else{g.push(d.substring(f,b));g.push("\\{");f=b+1}}a=b+1}else if(c>-1){if(e==0){this._computeLineNumbers();this.$logError(this.MISSING_OPENINGBRACES,[this.positionToLineNumber(c)],this.context);
return false}if(h==e)h=-1;else if(h==-1){g.push(d.substring(f,c));g.push("\\}");f=c+1}e--;a=c+1}else{this.$assert(94,b==-1&&c==-1);a=j;g.push(d.substring(f,j));f=j}}if(e>0){this._computeLineNumbers();this.$logError(this.MISSING_CLOSINGBRACES,[this.positionToLineNumber(l)],this.context);return false}this.template=g.join("");return true}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/CSSTemplate.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.CSSTemplate",$extends:"aria.templates.BaseTemplate",$dependencies:["aria.templates.ICSS"],$constructor:function(){this.$BaseTemplate.constructor.call(this);var a=aria.core.Cache.getFilename(this.$classpath);a=aria.core.DownloadMgr.resolveURL(a,true);this.cssPath="/"+this.$classpath.replace(/\./g,"/");this.cssFolderPath=a.substring(0,a.lastIndexOf("/"))},$destructor:function(){this.$BaseTemplate.$destructor.call(this)},$prototype:{$init:function(a,d){a.$BaseTemplate.constructor.classDefinition.$prototype.$init(a,
d);var c=aria.templates.ICSS.prototype,b;for(b in c)if(c.hasOwnProperty(b)&&!a.hasOwnProperty(b))a[b]=c[b]}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/DomElementWrapper.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.DomElementWrapper",$dependencies:["aria.utils.Dom","aria.utils.DomOverlay","aria.utils.ClassList","aria.utils.sandbox.DOMProperties"],$constructor:function(b,f){if(b&&b.nodeType)for(;b.nodeType!=1;)b=b.parentNode;var g=b.tagName;this.tagName=g;this.getChild=function(a){return(a=aria.utils.Dom.getDomElementChild(b,a))?new aria.templates.DomElementWrapper(a):null};this.getAttribute=function(a){if(!this.attributesWhiteList.test(a)){this.$logError(this.INVALID_ATTRIBUTE_NAME,
[a]);return null}return(a=b.attributes[a])?a.value:null};this.getData=function(a,d){if(!/^\w+$/.test(a)||a.charAt(0)=="_"){this.$logError(this.INVALID_EXPANDO_NAME,[a]);return null}var c="_"+a,h="data-"+a,i=b.attributes[c]||b.attributes[h];b.attributes[c]!=null&&this.$logWarn("The '_' usage is deprecated for the expando %1, please use the dataset html attribute instead.",[c]);if(!i&&d)for(var e=b.parentNode;!i&&e!=null&&e.attributes!=null;){i=e.attributes[c]||e.attributes[h];b.attributes[c]!=null&&
this.$logWarn("The '_' usage is deprecated for the expando %1, please use the dataset html attribute instead.",[c]);e=e.parentNode}return i?i.value:null};this.getParentWithData=function(a){if(!/^\w+$/.test(a)||a.charAt(0)=="_"){this.$logError(this.INVALID_EXPANDO_NAME,[a]);return null}a="data-"+a;for(var d=b,c=d.attributes[a];!c&&d.parentNode!=null;){d=d.parentNode;if(d.attributes)c=d.attributes[a]}return c?new aria.templates.DomElementWrapper(d):null};this.classList=new aria.utils.ClassList(b);this.focus=
function(){try{return b.focus()}catch(a){this.$logDebug(this.FOCUS_FAILURE,b)}};this.setStyle=function(a){b.style.cssText=a};this.getProperty=function(a){if(aria.utils.sandbox.DOMProperties.isReadSafe(g,a))return b[a];else this.$logError(this.READ_ACCESS_DENIED,[a,g])};this.setProperty=function(a,d){if(aria.utils.sandbox.DOMProperties.isWriteSafe(g,a))b[a]=d;else this.$logError(this.WRITE_ACCESS_DENIED,[a,g])};this.getParentWithName=function(a){if(!a||!b)return null;var d=Aria.$window.document.body;
a=a.toUpperCase();for(var c=b.parentNode;c&&c!=d;){if(c.nodeName==a)return new aria.templates.DomElementWrapper(c);c=c.parentNode}return null};this.setProcessingIndicator=function(a,d){var c,h=true;if(a)c=aria.utils.DomOverlay.create(b,d);else(c=aria.utils.DomOverlay.detachFrom(b,d))||(h=false);f&&h&&f.registerProcessingIndicator(a,c)};this.scrollIntoView=function(a){aria.utils.Dom.scrollIntoView(b,a)};this.getScroll=function(){return{scrollLeft:b.scrollLeft,scrollTop:b.scrollTop}};this.setScroll=
function(a){if(a){if(a.hasOwnProperty("scrollLeft")&&a.scrollLeft!=null)b.scrollLeft=a.scrollLeft;if(a.hasOwnProperty("scrollTop")&&a.scrollTop!=null)b.scrollTop=a.scrollTop}};this._dispose=function(){this.setProcessingIndicator(false);this.getChild=f=b=null;this.classList.$dispose();this.setProcessingIndicator=this.getParentWithData=this.getParentWithName=this.setStyle=this.focus=this.setProperty=this.getProperty=this.getAttribute=this.getData=null}},$destructor:function(){if(this._dispose){this._dispose();
this._dispose=null}},$statics:{attributesWhiteList:/^(name|title|style|dir|lang|abbr|height|width|size|cols|rows|rowspan|colspan|nowrap|valign|align|border|cellpadding|cellspacing|disabled|readonly|checked|selected|multiple|value|alt|maxlength|type|accesskey|tabindex|placeholder)$/,INVALID_EXPANDO_NAME:"Invalid expando name: '%1'.",INVALID_ATTRIBUTE_NAME:"Invalid attribute name: '%1'.",FOCUS_FAILURE:"Could not focus element",READ_ACCESS_DENIED:"Access to property %1 of tag %2 is not allowed.",WRITE_ACCESS_DENIED:"Write access to property %1 of tag %2 is not allowed."},
$prototype:{getChild:function(){},getAttribute:function(){},getData:function(){},getParentWithData:function(){},getExpando:function(b,f){this.$logWarn("getExpando is deprecated, please use the getData instead.");return this.getData(b,f)},setClassName:function(b){this.$logWarn("setClassName is deprecated, please use the classList.setClassName instead.");this.classList.setClassName(b)},getClassName:function(){this.$logWarn("getClassName is deprecated, please use the classList.getClassName instead.");
return this.classList.getClassName()},focus:function(){},setStyle:function(){},getValue:function(){return this.getProperty("value")},setValue:function(b){this.setProperty("value",b)},_dispose:function(){},getParentWithName:function(){},setProcessingIndicator:function(){},scrollIntoView:function(){},getScroll:function(){},setScroll:function(){}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/DomEventWrapper.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.DomEventWrapper",$extends:"aria.DomEvent",$dependencies:["aria.templates.DomElementWrapper"],$constructor:function(a){var b=aria.templates.DomElementWrapper;this.$DomEvent.constructor.call(this,a);this.target=this.target?new b(this.target):null;this.relatedTarget=this.relatedTarget?new b(this.relatedTarget):null},$destructor:function(){if(this.target){this.target.$dispose();this.target=null}if(this.relatedTarget){this.relatedTarget.$dispose();this.relatedTarget=
null}this.$DomEvent.$destructor.call(this)},$prototype:{setTarget:function(a){this.target&&this.target.$dispose();this.target=a?new aria.templates.DomElementWrapper(a):null}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/FlowCtrl.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.FlowCtrl",$extends:"aria.templates.PublicWrapper",$implements:["aria.templates.IFlowCtrl"],$dependencies:["aria.utils.String"],$constructor:function(){this.$PublicWrapper.constructor.call(this)},$destructor:function(){this.data=this.moduleCtrl=null;this.$PublicWrapper.$destructor.call(this)},$prototype:{$publicInterfaceName:"aria.templates.IFlowCtrl",interceptModuleCtrl:function(a){var b=this["on"+aria.utils.String.capitalize(a.method)+a.step];if(b)return b.call(this,
a);if(b=this["on"+a.method+a.step])return b.call(this,a)},setModuleCtrl:function(a){this.moduleCtrl=a},oninitCallback:function(){this.data=this.moduleCtrl.getData()}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/IBaseTemplate.js
//YpwKgK3gnz
Aria.interfaceDefinition({$classpath:"aria.templates.IBaseTemplate",$events:{},$interface:{__$write:function(){}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/ICSS.js
//YpwKgK3gnz
Aria.interfaceDefinition({$classpath:"aria.templates.ICSS",$extends:"aria.templates.IBaseTemplate",$events:{},$interface:{prefix:"Object"}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/IFlowCtrl.js
//YpwKgK3gnz
Aria.interfaceDefinition({$classpath:"aria.templates.IFlowCtrl",$interface:{}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/IModuleCtrl.js
//YpwKgK3gnz
Aria.interfaceDefinition({$classpath:"aria.templates.IModuleCtrl",$events:{methodCallBegin:{description:"Raised before a method from the module controller public interface is called.",properties:{method:"Name of the method about to be called."}},methodCallEnd:{description:"Raised after a method from the module controller public interface has been called.",properties:{method:"Name of the method which was called."}},methodCallback:{description:"Raised when a method from the module controller public interface calls its callback.",
properties:{method:"Name of the method which was called."}},beforeDispose:{description:"Raised when the module controller is about to be disposed or reloaded.",properties:{reloadingObject:"If the module controller is about to be reloaded, it contains an object which raises an 'objectLoaded' event when the module controller is reloaded."}}},$interface:{init:{$type:"Function",$callbackParam:1},getData:function(){},setData:function(){},getResourceSet:function(){},getSubModuleCtrl:function(){},registerListener:function(){},
unregisterListeners:function(){},setSession:function(){}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/IObjectLoading.js
//YpwKgK3gnz
Aria.interfaceDefinition({$classpath:"aria.templates.IObjectLoading",$events:{objectLoaded:{description:"Raised when the object load is complete.",properties:{object:"Reference to the object just loaded."}}},$interface:{}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/ITemplate.js
//YpwKgK3gnz
Aria.interfaceDefinition({$classpath:"aria.templates.ITemplate",$extends:"aria.templates.IBaseTemplate",$events:{SectionRefreshed:{description:"Raised when a section in the template has been refreshed",properties:{sectionID:"{String} ID of the section which has been refreshed - if defined, null otherwise."}}},$interface:{data:"Object",moduleCtrl:"Object",flowCtrl:"Object",moduleRes:"Object",$refresh:function(){},$getChild:function(){},$getElementById:function(){},$focus:function(){},$hdim:function(){},
$vdim:function(){},$getId:function(){},getContainerScroll:function(){},setContainerScroll:function(){},__$writeId:function(){},__$processWidgetMarkup:function(){},__$beginContainerWidget:function(){},__$endContainerWidget:function(){},__$statementOnEvent:function(){},__$statementRepeater:function(){},__$createView:function(){},__$beginSection:function(){},__$endSection:function(){},__$bindAutoRefresh:function(){}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/ITemplateCtxt.js
//YpwKgK3gnz
Aria.interfaceDefinition({$classpath:"aria.templates.ITemplateCtxt",$interface:{tplClasspath:"Object",moduleCtrl:"Object",moduleCtrlPrivate:"Object",moduleRes:"Object",flowCtrl:"Object",flowCtrlPrivate:"Object",data:"Object",$reload:"Function"}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/Layout.js
//YpwKgK3gnz
(function(){var e,j,n,h,k={width:{},height:{}},l,f=null,q=function(){if(f==null){f=[];aria.utils.AriaWindow.attachWindow();n.addListener(Aria.$window,"resize",{fn:p})}},r=function(){if(h){j.cancelCallback(h);h=null}if(f!=null){n.removeListener(Aria.$window,"resize",{fn:p});aria.utils.AriaWindow.detachWindow();f=null}},m=function(){if(f==null&&e._listeners&&e._listeners.viewportResized)q();else if(f!=null&&f.length==0&&(e._listeners==null||e._listeners.viewportResized==null))r()},s=function(a){var b=
undefined;if(a.min!=null||a.max!=null){b=Aria.minSizeMode&&a.min!=null?a.min:a.viewport;if(b!=null){if(a.scrollbar)b-=e.getScrollbarsWidth();if(a.min!=null&&b<a.min)b=a.min;if(a.max!=null&&b>a.max)b=a.max}else if(a.min==a.max)b=a.min}a.value=b},p=function(){if(h){j.cancelCallback(h);h=null}h=j.addCallback({fn:t,scope:e,delay:50})},o=function(){var a=e.viewportSize,b=aria.utils.Dom._getViewportSize();if(b.width!=a.width||b.height!=a.height){e.viewportSize=b;e.setSOViewport(k.width,b.width);e.setSOViewport(k.height,
b.height);return true}return false},t=function(){h=null;if(o()){for(var a=f.length,b=0;b<a;b++){var c=f[b];e.setDivSize(c.domElt,c.width,c.height);var d=aria.templates.TemplateCtxtManager.getFromDom(c.domElt);if(d){var g=false;if(d.$setViewportWidth(i(c.width,"width")))g=true;if(d.$setViewportHeight(i(c.height,"height")))g=true;g&&d.$refresh()}}o();e.$raiseEvent({name:"viewportResized",viewportNewSize:e.viewportSize})}},i=function(a,b){if(typeof a=="object")a=e.getSODim(k[b],a.min,a.incrementFactor,
a.max);return a};Aria.classDefinition({$classpath:"aria.templates.Layout",$dependencies:["aria.templates.CfgBeans","aria.templates.TemplateCtxtManager","aria.utils.Event","aria.core.Browser","aria.utils.Dom","aria.utils.AriaWindow"],$singleton:true,$events:{viewportResized:{description:"Raised when the size of the viewport has changed.",properties:{viewportNewSize:"{Object} New size of the viewport"}}},$constructor:function(){e=this;j=aria.core.Timer;o();n=aria.utils.Event},$destructor:function(){r();
n=j=e=null},$statics:{LAYOUT_INCOHERENT_MIN_MAX:"Error while setting size configuration: min (%1) > max (%2).",MINSIZE_UNDEFINED:"vdim or hdim cannot be used if container has no minimum size."},$prototype:{viewportSize:{width:null,height:null},$on:function(){this.$JsObject.$on.apply(this,arguments);m()},$unregisterListeners:function(){this.$JsObject.$unregisterListeners.apply(this,arguments);m()},$addListeners:function(){this.$JsObject.$addListeners.apply(this,arguments);m()},$removeListeners:function(){this.$JsObject.$removeListeners.apply(this,
arguments);m()},registerAutoresize:function(a,b,c){f==null&&q();f.push({domElt:a,width:b,height:c})},unregisterAutoresize:function(a){if(f!=null){for(var b=f.length,c=[],d=0;d<b;d++){var g=f[d];g.domElt!=a&&c.push(g)}f=c;c.length==0&&m()}},setRootDim:function(a){aria.core.JsonValidator.check(a,"aria.templates.CfgBeans.RootDimCfg");this.setSOSizeCfg(k.width,a.width);this.setSOSizeCfg(k.height,a.height)},realWidth:function(a){return i(a,"width")},realHeight:function(a){return i(a,"height")},setDivSize:function(a,
b,c,d){if(d==null)d="auto";b=i(b,"width");c=i(c,"height");a.style.width=b==null?"":b+"px";a.style.height=c==null?"":c+"px";var g="";if(b!=null||c!=null)if(d=="auto")g=" xOverflowAuto";else if(d=="hidden")g=" xOverflowHidden";if(b=a.className){b=b.replace(/\s*xOverflow\w+/g,"");b+=g}else b=g;a.className=b},setSOSizeCfg:function(a,b){if(b.value!=null){b.min=b.value;b.max=b.value}a.min=b.min;a.max=b.max;a.scrollbar=b.scrollbar;if(a.min!=null&&a.max!=null&&a.min>a.max){this.$logError(this.LAYOUT_INCOHERENT_MIN_MAX,
[a.min,a.max]);a.max=undefined}s(a)},setSOViewport:function(a,b){a.viewport=b;s(a)},getSODim:function(a,b,c,d){var g=a.min;if(g==null){this.$logError(this.MINSIZE_UNDEFINED);return b}a=a.value;if(c==null)c=1;b=parseInt(b+(a-g)*c);if(d!=null&&b>d)b=d;return b},getScrollbarsWidth:function(){if(l!=null)return l;var a=Aria.$window.document,b=a.createElement("div"),c=a.createElement("div");b.style.overflow="";b.style.position="absolute";b.style.left="-10000px";b.style.top="-10000px";b.style.width="500px";
b.style.height="500px";if(!aria.core.Browser.isIE7)c.style.width="100%";c.style.height="100%";a.body.appendChild(b);b.appendChild(c);l=c.offsetWidth;b.style.overflow="scroll";l-=c.offsetWidth;a.body.removeChild(b);return l}}})})();
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/MarkupWriter.js
//YpwKgK3gnz
(function(){Aria.classDefinition({$classpath:"aria.templates.MarkupWriter",$dependencies:["aria.templates.Section","aria.utils.Delegate","aria.templates.DomEventWrapper","aria.utils.Type"],$constructor:function(a,c){var b=c?c.filterSection:null;this._out=[];this._ctrlStack=[];this.tplCtxt=a;this.sectionState=!b?this.SECTION_KEEP:this.SECTION_SEARCHING;this.write=!b?this.__writeOK:this.__writeSkip;this._filterSection=b;this._currentSection=this._topSection=!b?new aria.templates.Section(this.tplCtxt,
null,{isRoot:true,ownIdMap:c&&c.ownIdMap}):null;this._delegateMap=null},$destructor:function(){this._delegateMap=this._currentSection=null;if(this._topSection){this._topSection.$dispose();this._topSection=null}},$statics:{SECTION_SEARCHING:0,SECTION_KEEP:1,SECTION_SKIP:2,SECTION_FILTER_NOT_FOUND:"Error while refreshing template '%1': filter section '%2' was not found."},$prototype:{skipContent:false,_beginSectionOrRepeater:function(a,c){if(this.sectionState!=this.SECTION_SKIP){var b=a.id;if(!(this.sectionState!=
this.SECTION_KEEP&&b!=this._filterSection)){b=new c(this.tplCtxt,a);if(b.cfgOk){if(this.sectionState==this.SECTION_KEEP){this._currentSection&&this._currentSection.addSubSection(b);b.writeBegin(this)}else{this.sectionState=this.SECTION_KEEP;this.write=this.__writeOK}this._currentSection=b;b.writeContent(this)}else b.$dispose()}}},repeater:function(a){this._beginSectionOrRepeater(a,aria.templates.Repeater);this.endSection()},beginSection:function(a){this._beginSectionOrRepeater(a,aria.templates.Section)},
endSection:function(){if(this.sectionState==this.SECTION_KEEP){var a=this._currentSection;if(a.id==this._filterSection){this._topSection=this._currentSection;this.sectionState=this.SECTION_SKIP;this.write=this.__writeSkip}else if(this.sectionState==this.SECTION_KEEP){a.writeEnd(this);this._currentSection=a.parent}this.$assert(99,!!this._currentSection)}},addToCtrlStack:function(a){this._ctrlStack.push(a)},removeFromCtrlStack:function(){return this._ctrlStack.pop()},__writeOK:function(a){if(this._delegateMap)if(a||
a===0){a=""+a;var c=a.indexOf(">");if(c!=-1){var b=this._delegateMap;this._delegateMap=null;var d=aria.utils.Delegate.add(function(e){var f=new aria.templates.DomEventWrapper(e),g=true;if(e=b[e.type])g=e.call(f);f.$dispose();return g});this._currentSection.delegateIds.push(d);this._out.push(a.substring(0,c));this._out.push(" "+aria.utils.Delegate.getMarkup(d));this._out.push(a.substring(c));return}}this._out.push(a)},__writeSkip:function(){},pushDelegate:function(a,c){if(this._currentSection){var b=
aria.utils.Delegate;if(this.sectionState==this.SECTION_KEEP)if(b.isDelegated(a)){c=new aria.utils.Callback(c);this._currentSection.delegateCallbacks.push(c);if(!this._delegateMap)this._delegateMap={};this._delegateMap[a]=c}else{var d=b.add(c);this._currentSection.delegateIds.push(d);this.write(b.getFallbackMarkup(a,d,true))}}},registerBehavior:function(a){this._currentSection&&this._currentSection.addBehavior(a)},callMacro:function(a){this.tplCtxt._callMacro(this,a)},getSection:function(){var a=this._topSection;
if(a){a.html=this._out.join("");this._delegate=null}else this.$logError(this.SECTION_FILTER_NOT_FOUND,[this.tplCtxt.tplClasspath,this._filterSection]);this._topSection=this._out=null;return a}}})})();
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/Modifiers.js
//YpwKgK3gnz
(function(){var k,l={eat:{fn:function(){return""}},escape:{init:function(a){a.addDependencies(["aria.utils.String"])},fn:function(a){return aria.utils.String.escapeHTML(String(a))}},capitalize:{fn:function(a){return String(a).toUpperCase()}},"default":{fn:function(a,b){return a!=null?a:b}},empty:{fn:function(a,b){return a&&!/^\s*$/.test(a)?a:b}},pad:{fn:function(a,b,c){a=""+a;var e=a.length;if(e<b){c=c==true;var d=[];b-=e;c||d.push(a);for(e=0;b>e;e++)d.push("&nbsp;");c&&d.push(a);return d.join("")}return a}},
dateformat:{init:function(a){a.addDependencies(["aria.utils.Date","aria.utils.Type"])},fn:function(a,b){if(aria.utils.Type.isDate(a))return aria.utils.Date.format(a,b);else this.$logError(aria.templates.Modifiers.DATEFORMAT_MODIFIER_ENTRY,[a])}},timeformat:{init:function(a){a.addDependencies(["aria.utils.Date","aria.utils.Type"])},fn:function(a,b){if(aria.utils.Type.isDate(a))return aria.utils.Date.format(a,b);else this.$logError(aria.templates.Modifiers.DATEFORMAT_MODIFIER_ENTRY,[a])}},starthighlight:{init:function(a){a.addDependencies(["aria.utils.String",
"aria.utils.Type"])},fn:function(a,b){if(aria.utils.Type.isString(a)&&b.length){var c=aria.utils.String.stripAccents(a.substring(0,b.length)).toLowerCase();b=b.toLowerCase();if(c===b)return"<strong>"+a.substring(0,b.length)+"</strong>"+a.substring(b.length)}return a}},highlight:{init:function(a){a.addDependencies(["aria.utils.String","aria.utils.Type"])},fn:function(a,b){if(aria.utils.Type.isString(a)&&aria.utils.Type.isString(b)){var c=a.split(" "),e=b.split(" ").sort(function(d,j){var h=d.length,
f=j.length;return h===f?0:h<f?1:-1});aria.utils.Array.forEach(c,function(d,j,h){for(var f=0,m=e.length;d&&f<=m;f+=1)if(!(e[f]==undefined||e[f]=="")){var g=e[f].replace(k,"\\$1"),i=RegExp("\\b"+g,"gim");if(g.match(/\(/))i=RegExp("[\\b\\(]"+g.replace("\\(",""),"gim");g=i.exec(d);if(g!=null&&g.length>0){h[j]=d.replace(i,"<strong>"+g[0]+"</strong>");if(d.match(i))break}}});return c.join(" ")}return a}}};Aria.classDefinition({$classpath:"aria.templates.Modifiers",$singleton:true,$constructor:function(){k=
RegExp("(\\"+"/.*+?|()[]{}\\".split("").join("|\\")+")","g")},$statics:{UNKNOWN_MODIFIER:"Unknown modifier %1.",DATEFORMAT_MODIFIER_ENTRY:"Entry %1 is not a date."},$prototype:{callModifier:function(a,b){a=""+a;var c=l[a.toLowerCase()];if(c)return c.fn.apply(this,b);else this.$logError(aria.templates.Modifiers.UNKNOWN_MODIFIER,[a])},initModifier:function(a,b){var c=l[a];c&&c.init&&c.init(b)}}})})();
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/ModuleCtrl.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.ModuleCtrl",$extends:"aria.templates.PublicWrapper",$implements:["aria.templates.IModuleCtrl"],$dependencies:["aria.utils.Json","aria.utils.Type","aria.templates.ModuleCtrlFactory","aria.templates.RefreshManager","aria.modules.RequestMgr"],$constructor:function(){this.$PublicWrapper.constructor.call(this);this._data={};this.$requestJsonSerializer=this.$requestHandler=this._session=this.__resources=this._smList=this._dataBeanName=null;if(this._enableMethodEvents==
null){this.$logWarn(this.DEPRECATED_METHOD_EVENTS);this._enableMethodEvents=true}(this._enableMethodEvents=this._enableMethodEvents!==true?false:this._enableMethodEvents)&&this.$addInterceptor(this.$publicInterfaceName,{fn:this._interceptPublicInterface,scope:this})},$destructor:function(){this.$raiseEvent({name:"beforeDispose",reloadingObject:this.__$reloadingObject});this._enableMethodEvents&&this.$removeInterceptors(this.$publicInterfaceName,this,this._interceptPublicInterface);this._smList=this._resources=
this._data=this._smLoads=null;aria.templates.ModuleCtrlFactory.__notifyModuleCtrlDisposed(this);this.$PublicWrapper.$destructor.call(this);this.$requestJsonSerializer=null},$statics:{INIT_CALLBACK_ERROR:"An error occured while processing a Module init callback in class %1",DATA_CONTENT_INVALID:"Content of datamodel does not match databean:\nbean name: %1,\nmodule class: %2",DEPRECATED_METHOD_EVENTS:"Generic method events (methodCallBegin, methodCallEnd, methodCallback) will be turned off by default in a future release. If the application relies on those events please set the enableMethodEvents variable to true. To already benefit from performance improvements by disabling them, you can set this variable to false."},
$prototype:{$hasFlowCtrl:false,$publicInterfaceName:"aria.templates.IModuleCtrl",$init:function(a){a.json=aria.utils.Json},init:function(a,b){this.$callback(b,true,this.INIT_CALLBACK_ERROR)},_interceptPublicInterface:function(a){a.step=="CallBegin"&&!aria.templates.ModuleCtrl.prototype[a.method]&&aria.templates.RefreshManager.stop();this.$raiseEvent({name:"method"+a.step,method:a.method});a.step=="CallEnd"&&!aria.templates.ModuleCtrl.prototype[a.method]&&aria.templates.RefreshManager.resume()},submitJsonRequest:function(a,
b,c){var d=aria.utils.Type;if(d.isString(c)||d.isFunction(c))c={fn:c,scope:this};else if(d.isObject(c)&&c.scope==null)c.scope=this;aria.modules.RequestMgr.submitJsonRequest({moduleName:this.$package,actionName:a,session:this._session,actionQueuing:null,requestHandler:this.$requestHandler,urlService:this.$urlService,requestJsonSerializer:this.$requestJsonSerializer},b,{fn:this._submitJsonRequestCB,scope:this,args:{cb:c}})},_submitJsonRequestCB:function(a,b){aria.templates.RefreshManager.stop();this.$callback(b.cb,
a);aria.templates.RefreshManager.resume()},onSubModuleEvent:function(){},_onSubModuleBeforeDisposeEvent:function(a){var b=this._smList;if(b)for(var c=0,d=b.length;c<d;c++)if(b[c]==a.src){aria.utils.Array.removeAt(b,c);a.reloadingObject&&a.reloadingObject.$onOnce({objectLoaded:{scope:this,fn:this.__onSubModuleReloaded}});break}},__onSubModuleReloaded:function(a){this._smList&&this._smList.push(a.object)},loadSubModules:function(a,b){aria.templates.ModuleCtrlFactory.__loadSubModules(this,a,{fn:this.__onLoadSubModulesComplete,
scope:this,args:b})},__onLoadSubModulesComplete:function(a,b){var c=a.subModules;if(c&&c.length>0){if(!this._smList)this._smList=[];this._smList=this._smList.concat(a.subModules)}this.$callback(b,a)},disposeSubModule:function(a){aria.templates.ModuleCtrlFactory.__disposeSubModule(this,a)},getData:function(){return this._data},setData:function(a,b){this.json.inject(a,this._data,b);if(this._dataBeanName)aria.core.JsonValidator.normalize({json:this._data,beanName:this._dataBeanName})||this.$logError(this.DATA_CONTENT_INVALID,
[this._dataBeanName,this.$classpath])},getResourceSet:function(){if(!this.__resources)if(this.$resources){this.__resources={};for(var a in this.$resources)this.__resources[a]=this.$resources[a].hasOwnProperty("provider")?this[a]:Aria.getClassRef(this.$resources[a])}else return;return this.__resources},getSubModuleCtrl:function(a){if(this._smList)for(var b=this._smList.length,c=0;c<b;c++){var d=this._smList[c];if(d&&a==d.getData())return d}return this.$publicInterface()},registerListener:function(a){var b=
this.$publicInterface();this.$on({"*":a},b)},unregisterListeners:function(a){var b=this.$publicInterface();this.$unregisterListeners(a,b)},setSession:function(a){this._session=a;if(this._smList)for(var b=this._smList.length,c=0;c<b;c++){var d=this._smList[c];d&&d.setSession(a)}}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/ModuleCtrlFactory.js
//YpwKgK3gnz
(function(){var n,o,m={},B=aria.core.Interfaces.generateKey,k=function(a,c){c&&this.$logError(this.EXCEPTION_CREATING_MODULECTRL,[a.desc.classpath],c);this.$callback(a.cb,{error:true})},s,p,t,w,q,x=function(a){var c=Aria.getClassRef(a.desc.classpath);if(c){a.moduleCtrlConstr=c;s.call(this,a)}else Aria.load({classes:[a.desc.classpath],oncomplete:{args:a,scope:this,fn:s},onerror:{args:a,scope:this,fn:k}})};s=function(a){try{var c=a.desc.classpath,b=a.moduleCtrlConstr;if(!b){b=Aria.getClassRef(c);a.moduleCtrlConstr=
b}if(!(b&&n.isInstanceOf(b.prototype,"aria.templates.ModuleCtrl"))){this.$logError(this.INVALID_MODULE_CTRL,[c]);return k.call(this,a)}var d=new a.moduleCtrlConstr(a.desc.constructorArgs);a.moduleCtrlPrivate=d;if(d.$hasFlowCtrl){var e=d.$hasFlowCtrl,f;if(e===true)e=c+"Flow";e=o.getFlowCP(e);a.flowCtrlClasspath=e;if(f=Aria.getClassRef(e)){a.flowCtrlConstr=f;p.call(this,a)}else Aria.load({classes:[e],oncomplete:{args:a,scope:this,fn:p},onerror:{args:a,scope:this,fn:k}})}else p.call(this,a)}catch(h){return k.call(this,
a,h)}};p=function(a){try{var c=a.moduleCtrlPrivate,b=c.$publicInterface(),d,e;if(a.flowCtrlClasspath){if(!a.flowCtrlConstr)a.flowCtrlConstr=Aria.getClassRef(a.flowCtrlClasspath);if(!(a.flowCtrlConstr&&n.isInstanceOf(a.flowCtrlConstr.prototype,"aria.templates.FlowCtrl"))){this.$logError(this.INVALID_FLOW_CTRL,[a.flowCtrlClasspath]);return k.call(this,a)}d=new a.flowCtrlConstr;d.setModuleCtrl(b);c.$addInterceptor(c.$publicInterfaceName,{fn:d.interceptModuleCtrl,scope:d});e=d.$publicInterface()}var f=
B(m),h={moduleCtrlPrivate:c,moduleCtrl:b,flowCtrlPrivate:d,flowCtrl:e,subModuleInfos:a.subModuleInfos};m[f]=h;b.__$moduleCtrlId=f;c.__$moduleCtrlId=f;a.res={error:false,moduleCtrlPrivate:c,moduleCtrl:b};var j=o.getCustomModules(a.desc.classpath);if(j.length>0){var g=a.recursionCheck,i;if(g){c=g;var l=new Function;l.prototype=c;i=new l}else i={};g=i;g[a.desc.classpath]=1;q.call(this,h,j,{fn:t,scope:this,args:a},true,g)}else t.call(this,null,a)}catch(C){return k.call(this,a,C)}};t=function(a,c){try{var b=
c.registerListeners;b&&c.res.moduleCtrl.$on(b);c.session&&c.res.moduleCtrl.setSession(c.session);if(c.skipInit)this.$callback(c.cb,c.res);else{var d=c.desc.initArgs;d||(d={});c.res.moduleCtrl.init(d,{fn:w,args:c,scope:this})}}catch(e){return k.call(this,c,e)}};w=function(a,c){this.$callback(c.cb,c.res)};var r=function(a){var c=m[a.__$moduleCtrlId];if(!c){aria.templates.ModuleCtrlFactory.$logError(aria.templates.ModuleCtrlFactory.MODULECTRL_BYPASSED_FACTORY,[a.$classpath]);return null}return c},y=
r,u=function(a,c){var b=r(a);if(!b)return null;if(b.moduleCtrlPrivate!=a){aria.templates.ModuleCtrlFactory.$logError(aria.templates.ModuleCtrlFactory.EXPECTING_MODULECTRL_PRIVATE,[c,a.$classpath]);return null}return b},v=function(a,c,b,d){for(var e=b.length,f,h=0;h<e-1;h++){f=b[h];if(a[f]==null)a[f]={};a=a[f]}f=b[e-1];b=false;if(d!=null){if(a[f]==null)a[f]=[];a=a[f];if(a[d])b=true;a[d]=c}else{if(a[f])b=true;a[f]=c}return b},z=function(a,c,b,d){var e=c.refpath,f=a.moduleCtrlPrivate,h=a.moduleCtrl.getData(),
j=a.moduleCtrl,g=b?b.getData():null;if(d){d=[e];f=null}else{d=e.split(".");if(e.charAt(0)=="_")j=h=null}var i=false;if(f)i=v(f,b,d,c.arrayIndex)||i;if(h)i=v(h,g,d,c.arrayIndex)||i;if(j)i=v(j,b,d,c.arrayIndex)||i;b!=null&&i&&this.$logError(this.SUBMODULE_REFPATH_ALREADY_USED,[e,c.classpath,a.moduleCtrlPrivate.$classpath])},A=function(a,c){var b=c.common,d=c.subModuleDesc,e=a.moduleCtrl;b.res.subModules[c.subModuleIdx]=e;b.alreadyLoaded++;if(e){var f=b.parentModule,h=f.subModules;z.call(this,f,d,e,
b.customModules);if(h)h.push(a.moduleCtrlPrivate);else f.subModules=[a.moduleCtrlPrivate]}else{e=c.error||this.SM_CREATION_FAILED;b.res.errors++;this.$logError(e,[d.refpath,d.classpath,b.parentModule.moduleCtrlPrivate.$classpath])}b.alreadyLoaded>=b.toBeLoaded&&this.$callback(b.cb,b.res)};q=function(a,c,b,d,e){var f=c.length;if(f==0)this.$callback(b,{subModules:[],errors:0});else{var h=a.moduleCtrlPrivate;b={cb:b,res:{subModules:[],errors:0},parentModule:a,alreadyLoaded:0,toBeLoaded:f,customModules:d};
for(var j=0;j<f;j++){var g=c[j],i=false;if(d&&n.isString(g))g={classpath:g,refpath:"custom:"+g};var l=g.classpath;if(aria.core.JsonValidator.check(g,"aria.templates.CfgBeans.SubModuleDefinition"))if(d&&g.refpath.substring(0,7)!="custom:")i=this.INVALID_CUSTOM_MODULE_REFPATH;else{if(e&&e[l])i=this.CUSTOM_MODULES_INFINITE_RECURSION}else i=this.INVALID_SM_DEF;i?A.call(this,{},{error:i,subModuleIdx:j,subModuleDesc:g,common:b}):x.call(this,{recursionCheck:e,subModuleInfos:{parentModule:a,customModule:d,
subModuleDesc:g},registerListeners:d?null:{"*":{fn:h.onSubModuleEvent,scope:h,args:{smRef:g.refpath}},beforeDispose:{fn:h._onSubModuleBeforeDisposeEvent,scope:h,args:{smRef:g.refpath}}},desc:{classpath:l,initArgs:g.initArgs,constructorArgs:g.constructorArgs},session:a.moduleCtrlPrivate._session,cb:{fn:A,scope:this,args:{subModuleIdx:j,subModuleDesc:g,common:b}}})}}};var D=function(a,c){var b=c.objectLoading,d=a.subModules[0];if(d){var e=aria.core.Interfaces;e.linkItfWrappers(c.oldModuleCtrl,d);if(c.oldFlowCtrl){var f=
r(d).flowCtrl;f&&e.linkItfWrappers(c.oldFlowCtrl,f)}}b.notifyObjectLoaded(d);b.$dispose();this.$callback(c.callback)};Aria.classDefinition({$classpath:"aria.templates.ModuleCtrlFactory",$dependencies:["aria.templates.CfgBeans","aria.templates.ObjectLoading","aria.core.environment.Customizations"],$singleton:true,$constructor:function(){n=aria.utils.Type;o=aria.core.environment.Customizations},$destructor:function(){o=n=null},$statics:{INVALID_SM_DEF:"Sub-module load failure: invalid module definition:\nreference: %1,\nclasspath: %2,\nparent class: %3",
INVALID_CUSTOM_MODULE_REFPATH:"Error : invalid custom module refpath.\nrefpath: %1\nmodule class: %2\nparent class: %3",CUSTOM_MODULES_INFINITE_RECURSION:"Error: custom modules infinite recursion detected.\nrefpath: %1\nmodule class: %2\nparent class: %3",SM_CREATION_FAILED:"Sub-module creation failed:\nmodule name: %1,\nmodule class: %2\nparent class: %3",MODULECTRL_BYPASSED_FACTORY:"Error : module controller is already disposed or was not created using the module controller factory.\nmodule class: %1.",
INVALID_MODULE_CTRL:"Error: %1 is not a module controller.",INVALID_FLOW_CTRL:"Error: %1 is not a flow controller.",EXPECTING_MODULECTRL_PRIVATE:"Error: %1 expected the whole module controller and only an interface was provided.\nmodule class: %2",EXCEPTION_CREATING_MODULECTRL:"Error: an exception occurred during the process of module controller creation.\nmodule class: %1",SUBMODULE_REFPATH_ALREADY_USED:"Sub-module refpath is already used (the existing path was replaced).\nrefpath: %1\nmodule class: %2\nparent class: %3",
EXCEPTION_SUBMODULE_DISPOSE:"An exception occurred while disposing a sub-module.\nparent module class: %1\nchild module class: %2",RELOAD_ONLY_FOR_SUBMODULES:"The module reload feature is only available for sub-modules, and not for root modules.\nmodule class: %1",DISPOSE_NOT_SUBMODULE:"Error: disposeSubModule was called with a parameter which is not a sub-module of the current module.\nparent module class: %1\nclass of the parameter: %2"},$prototype:{createModuleCtrl:function(a,c,b){x.call(this,
{desc:a,cb:c,skipInit:b})},__disposeSubModule:function(a,c){var b=r(c);if(b){var d=b.subModuleInfos;!d||d.parentModule.moduleCtrlPrivate!=a?this.$logError(this.DISPOSE_NOT_SUBMODULE,[a.$classpath,b.moduleCtrlPrivate.$classpath]):b.moduleCtrlPrivate.$dispose()}},__loadSubModules:function(a,c,b){a=u(a,"loadSubModules");if(!a)return this.$callback(b,{error:true});q.call(this,a,c,b,false)},__getModulePrivateInfoMethod:function(){var a=y;y=null;return a},isModuleCtrlReloadable:function(a){if(a==null)return false;
var c=m[a.__$moduleCtrlId];if(!c)return false;if(c.moduleCtrlPrivate!=a)return false;return c.subModuleInfos!=null},reloadModuleCtrl:function(a,c){var b=u(a,"reloadModuleCtrl");if(b){var d=b.subModuleInfos;if(d==null)this.$logError(this.RELOAD_ONLY_FOR_SUBMODULES,[a.$classpath]);else{var e=d.parentModule;this.$assert(668,e!=null);var f=b.moduleCtrl,h=b.flowCtrl,j=aria.core.ClassMgr,g=[a.$classpath,a.$publicInterfaceName];if(b=b.flowCtrlPrivate){g[2]=b.$classpath;g[3]=b.$publicInterfaceName}b=new aria.templates.ObjectLoading;
a.__$reloadingObject=b;a.$dispose();for(var i=0,l=g.length;i<l;i++)j.unloadClass(g[i],true);q.call(this,e,[d.subModuleDesc],{fn:D,scope:this,args:{objectLoading:b,oldModuleCtrl:f,oldFlowCtrl:h,callback:c}},d.customModule)}}},__notifyModuleCtrlDisposed:function(a){var c=a.__$moduleCtrlId,b=u(a,"notifyModuleCtrlDisposed");if(b){b.isDisposing=true;var d=b.subModuleInfos,e=d?d.parentModule:null;if(e&&!e.isDisposing){aria.utils.Array.remove(e.subModules,a);z.call(this,e,d.subModuleDesc,null,d.customModule)}if(d=
b.subModules){for(e=d.length-1;e>=0;e--)try{d[e].$dispose()}catch(f){this.$logError(this.EXCEPTION_SUBMODULE_DISPOSE,[a.$classpath,d[e].$classpath],f)}b.subModules=null}m[c]=null;delete m[c];if(b.flowCtrlPrivate){b.flowCtrlPrivate.$dispose();b.flowCtrlPrivate=null;b.flowCtrl=null}b.moduleCtrl=null;b.moduleCtrlPrivate=null;b.subModuleInfos=null}}}})})();
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/NavigationManager.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.NavigationManager",$singleton:true,$dependencies:["aria.utils.Type","aria.templates.CfgBeans"],$constructor:function(){this._tableNavMarker=Aria.FRAMEWORK_PREFIX+"tableNavDone";this._keyMapMarker=Aria.FRAMEWORK_PREFIX+"keyMapDone";this.globalKeyMap=[];this._hasModalBehaviour=false},$statics:{INVALID_GLOBAL_KEYMAP_CFG:"Invalid global keymap configuration."},$prototype:{addGlobalKeyMap:function(a){a={json:a,beanName:"aria.templates.CfgBeans.GlobalKeyMapCfg"};
if(aria.core.JsonValidator.normalize(a)){a=a.json;this.globalKeyMap.push(a)}else this.$logError(this.INVALID_GLOBAL_KEYMAP_CFG)},removeGlobalKeyMap:function(a){for(var b=0,c=this.globalKeyMap.length,d;b<c;b++){d=this.globalKeyMap[b];if(d.key==a.key&&!!a.alt==!!d.alt&&!!a.shift==!!d.shift&&!!a.ctrl==!!d.ctrl){this.globalKeyMap.splice(b,1);return true}}return false},handleNavigation:function(a,b,c){if(c.type=="keyup"||c.type=="keydown"){if(!c[this._tableNavMarker]&&c.type=="keydown")c[this._tableNavMarker]=
this._handleTableNavigation(b,c);c[this._keyMapMarker]||(c[this._keyMapMarker]=this._handleKeyMap(a,c))}},handleGlobalNavigation:function(a){if(a.type=="keyup"||a.type=="keydown")a[this._keyMapMarker]||(a[this._keyMapMarker]=this._handleKeyMap(this.globalKeyMap,a,true))},focusFirst:function(a,b){var c;if(a.nodeType==1)for(var d=a.childNodes,i=d.length,e=b?i-1:0,g;e>-1&&e<i;b?e--:e++){g=d[e];c={fn:function(){this._focusNext(g,b)},scope:this};if(this._doFocus(g,c))return true;if(this.focusFirst(g,b))return true}return false},
setModalBehaviour:function(a){this._hasModalBehaviour=a},_focusNext:function(a,b){for(var c=Aria.$window.document.body,d;!d;){d=b?a.previousSibling:a.nextSibling;if(!d){a=a.parentNode;if(!a||a==c)return false}}return this._doFocus(d)||this.focusFirst(d,b)?true:this._focusNext(d,b)},_doFocus:function(a,b){if(a.nodeType!=1)return false;if(a.__widget){if(a.__widget.focus)if(a.__widget.focus(b)!=false)return true}else{var c=a.nodeName,d=a.getAttributeNode("tabindex");if((c=="INPUT"||c=="TEXTAREA"||c==
"A"||c=="BUTTON"||d&&d.specified&&d.nodeValue!=-1)&&!a.disabled)try{a.focus();return true}catch(i){}}return false},_handleTableNavigation:function(a,b){var c=b.keyCode,d=false;if(a===false||c>40||c<37)return true;if(!a)return false;if(a===true)a={};if(this._validateModifiers(a,b)){var i=b.target,e=this._getContainingTD(i);if(e){c=e.parentNode.parentNode;e=this._getTableMap(c,e);d=this._navigateMap(c,e,b)}else if(c==b.KC_ARROW_DOWN)d=this._focusNext(i);else if(c==b.KC_ARROW_UP)d=this._focusNext(i,
true);d&&b.preventDefault();return true}},_validateModifiers:function(a,b){return b.altKey==!!a.alt&&b.shiftKey==!!a.shift&&b.ctrlKey==!!a.ctrl},_navigateMap:function(a,b,c){var d=c.keyCode,i=b.map;b=b.pos;var e=0,g=0;if(d==c.KC_ARROW_UP)e=-1;else if(d==c.KC_ARROW_DOWN)e=1;else g=d==c.KC_ARROW_LEFT?-1:1;var j=false;c=b;var h,f;d=b.rowIndex;var k=b.mapCellIndex;do{if(g!==0)k+=g;else d+=e;if(d<0||d>=i.length)return this._focusNext(a,d<0);h=i[d];f=false;if(k<0||k>=h.length)if(e!==0){if(g==1){g=-1;k=
b.mapCellIndex}else{g=1;k=b.mapCellIndex-1;d+=e}f=true}else return false;if(!f){h=i[d][k];if(h!=c){if(e!==0&&g!==0)if(e==-1&&h.rowIndex+h.rowSpan-1!=d)f=true;else if(e==1&&h.rowIndex!=d)f=true;if(!f){j=a.rows[h.rowIndex].cells[h.cellIndex];c=h;if(j){j=this.focusFirst(j);if(!j&&e!==0&&g===0)g=1}else return false}}}}while(!j);return true},_getContainingTD:function(a){for(var b=Aria.$window.document.body;a&&a!=b;){if(a.nodeName=="TD")if(!a.parentNode.parentNode.attributes.isFrame)return a;a=a.parentNode}},
_getTableMap:function(a,b){for(var c=[],d,i=a.rows,e=0,g=i.length;e<g;e++){var j=i[e].cells,h=c[e];if(!h){h=[];c[e]=h}for(var f=0,k=0,r=j.length;k<r;k++){for(var l=j[k],p=l.rowSpan,q=l.colSpan,m=h[f];m;)m=h[++f];m={rowIndex:e,cellIndex:k,rowSpan:p,mapCellIndex:f};if(l==b)d=m;for(l=0;l<p;l++){var n=c[e+l];if(!n){n=[];c[e+l]=n}for(var o=0;o<q;o++)n[f+o]=m}f+=q}}return{map:c,pos:d}},_handleKeyMap:function(a,b,c){var d=b.keyCode,i=false,e=false,g,j;if(!a||!d)return false;for(var h=0,f;f=a[h];h++)if(this._validateModifiers(f,
b)){j=f&&"event"in f?f.event:"keydown";if(!f.key||j!=b.type)return false;if(!(c===true&&this._hasModalBehaviour&&!f.modal))if(aria.utils.Type.isNumber(f.key)){if(f.key==d){i=this.$callback(f.callback);e=true;break}}else if(f.key!=="*"){if(b["KC_"+f.key.toUpperCase()]==d){i=this.$callback(f.callback);e=true;break}}else g=f.callback}if(e){if(!i){b.preventDefault();return true}return false}else return g?!this.$callback(g):false}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/ObjectLoading.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.ObjectLoading",$extends:"aria.templates.PublicWrapper",$implements:["aria.templates.IObjectLoading"],$constructor:function(){this.$PublicWrapper.constructor.call(this)},$prototype:{$publicInterfaceName:"aria.templates.IObjectLoading",notifyObjectLoaded:function(a){this.$raiseEvent({name:"objectLoaded",object:a})}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/Parser.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.Parser",$dependencies:["aria.utils.String"],$singleton:false,$constructor:function(){this.__lineNumbers=this.template=null;this.__currentLn=0;this._keepWhiteSpace=false},$statics:{MISSING_CLOSINGBRACES:"line %1: Template parsing error: could not find corresponding '}'.",EXPECTING_OTHER_CLOSING_STATEMENT:"line %4: Template parsing error: found closing statement '%2', but '%1' (line %3) should be closed first.",INVALID_STATEMENT_NAME:"line %2: Template parsing error: invalid statement name: '%1'",
STATEMENT_CLOSED_NOT_OPEN:"line %2: Template parsing error: could not find corresponding open statement for closing statement '%1'.",MISSING_CLOSING_STATEMENT:"line %2: Template parsing error: statement '%1' was open but never closed."},$prototype:{parseTemplate:function(){},_prepare:function(d){d=d.replace(/\r\n/g,"\n").replace(/\r/g,"\n");d=d.replace(/\/\/.*\{(\/)?CDATA\}.*$/gm,"");var a=d.split("{CDATA}"),b=[],c;b.push(a[0]);for(var f=1,h=a.length;f<h;f++){c=a[f].split("{/CDATA}");if(c.length!=
2){this.$logError(this.MISSING_CLOSING_STATEMENT,"CDATA",this.context);this.template=d;return}b=b.concat(c)}d=0;for(h=b.length;d<h;d++){a=b[d];if(d%2===0){for(f=/\/\*(.|\n|\r)*?\*\//m;c=a.match(f);){c+="";for(var e="",i=-1;(i=c.indexOf("\n",i+1))!=-1;)e+="\n";a=a.replace(f,e)}a=a.replace(/^\/\/.*$/gm,"");a=a.replace(/([^\:])\/\/(?=(?:(?:[^"]*"){2})*[^"]*$).*$/gm,"$1");if(!this._keepWhiteSpace){a=a.replace(/^[ \t]+/gm,"");a=a.replace(/[ \t]+$/gm,"")}}else a="{CDATA}"+a+"{/CDATA}";b[d]=a}this.template=
d=b.join("")},_computeLineNumbers:function(){var d=this.template;this.__lineNumbers=[0];for(var a=d.indexOf("\n");a!=-1;){this.__lineNumbers.push(a);a=d.indexOf("\n",a+1)}},positionToLineNumber:function(d){var a=this.__lineNumbers,b=a.length,c;for(c=this.__currentLn;c<b;c++)if(d<a[c]){if(c>0&&a[c-1]>d)break;return this.__currentLn=c}for(c=0;c<this.__currentLn;c++)if(d<a[c])return this.__currentLn=c;return this.__lineNumbers.length},__findClosingBraces:function(d,a){var b=a,c=0,f=-1,h=-1,e=aria.utils.String;
do{if(f<b)f=e.indexOfNotEscaped(d,"{",b);if(h<b)h=e.indexOfNotEscaped(d,"}",b);if(f>-1&&f<h){c++;b=f+1}else if(h>-1){c--;b=h+1}}while(c>=0&&h>-1);this.$assert(163,h==-1||c<0&&(h<f||f==-1));return{indexClose:h,indexOpen:f}},__unescapeParam:function(d,a,b){d=d.substring(a,b);d=d.replace(/^[\r\n]+/,"");d=d.replace(/[\r\n]+$/,"");return d=d.replace(/\\([\/\{\}\$\\*])/g,"$1")},__unescapeText:function(d,a,b){d=d.substring(a,b);if(/^[\r\n]*$/.test(d))return"";return d=d.replace(/\\([\/\{\}\$\\*])/g,"$1")},
__logError:function(d,a,b){b||(b=[]);b.push(this.positionToLineNumber(d));this.$logError(a,b,this.context)},_buildTree:function(){var d=aria.utils.String;this.__currentLn=0;for(var a=this.template,b=0,c=0,f=d.indexOfNotEscaped(a,"{"),h=false,e,i=[],l={name:"#ROOT#",paramBlock:"",parent:null,content:i,lineNumber:0},g=[l];f!=-1;){c=(h=a.charAt(f-1)=="$"&&!d.isEscaped(a,f-1))?f-1:f;if(c-b>0){e={name:"#TEXT#",parent:g[g.length-1],firstCharParamIndex:b,lastCharParamIndex:c,paramBlock:this.__unescapeText(a,
b,c),lineNumber:this.positionToLineNumber(b)};e.paramBlock.length>0&&i.push(e)}b=f+1;e=this.__findClosingBraces(a,b);c=e.indexClose;f=e.indexOpen;if(c==-1){this.__logError(b,this.MISSING_CLOSINGBRACES);return null}if(h){i.push({name:"#EXPRESSION#",parent:g[g.length-1],firstCharParamIndex:b,lastCharParamIndex:c,paramBlock:this.__unescapeParam(a,b,c),lineNumber:this.positionToLineNumber(b)});b=c+1}else if(a.charAt(b)=="/"){b++;e=g.pop();i=a.substring(b,c);if(g.length==0){this.__logError(b,this.STATEMENT_CLOSED_NOT_OPEN,
[i]);return null}else if(e.name!=i){for(d=g.length-1;d>=1;d--)if(g[d].name==i){this.__logError(b,this.EXPECTING_OTHER_CLOSING_STATEMENT,[e.name,i,e.lineNumber]);return null}this.__logError(b,this.STATEMENT_CLOSED_NOT_OPEN,[i]);return null}e.lastCharContentIndex=b-2;i=g[g.length-1].content;b=c+1}else{h=c+1;var m=a.charAt(c-1)=="/"&&!d.isEscaped(a,c-1),k,j;m&&c--;e={parent:g[g.length-1],lastCharParamIndex:c};i.push(e);j=d.nextWhiteSpace(a,b,c,/[\s\{]/);if(j==-1){j=c;k=a.substring(b,c)}else{k=a.substring(b,
j);a.charAt(j)!="{"&&j++}e.firstCharParamIndex=j;e.lineNumber=this.positionToLineNumber(j);if(k!="CDATA"){e.name=k;if(!m){e.content=[];e.firstCharContentIndex=h;g.push(e);i=e.content}if(!/^[_\w@:]+$/.test(e.name)){this.__logError(b,this.INVALID_STATEMENT_NAME,[e.name]);return null}e.paramBlock=this.__unescapeParam(a,j,c);b=h}else{e.name="#CDATA#";f=a.indexOf("{/CDATA}");if(f!=-1){e.paramBlock=a.substring(c+1,f);e=this.__findClosingBraces(a,f+1);b=e.indexClose+1;f=e.indexOpen}else{this.__logError(b,
this.MISSING_CLOSING_STATEMENT,["CDATA"]);return null}}}}c=a.length;if(c-b>0){e={name:"#TEXT#",parent:g[g.length-1],firstCharParamIndex:b,lastCharParamIndex:c,paramBlock:this.__unescapeText(a,b,c),lineNumber:this.positionToLineNumber(b)};e.paramBlock.length>0&&i.push(e)}if(g.length>1){this.__logError(g[g.length-1].firstCharContentIndex,this.MISSING_CLOSING_STATEMENT,[g[g.length-1].name]);return null}this.template=this.__lineNumbers=null;return l}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/PublicWrapper.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.PublicWrapper",$constructor:function(){},$destructor:function(){},$prototype:{$publicInterfaceName:null,$publicInterface:function(){return this.$interface(this.$publicInterfaceName)}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/RefreshManager.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.RefreshManager",$singleton:true,$constructor:function(){this._stops=0;this._queue=[];this._hierarchies=[];this._updatedNodes=[];this._nodesToRefresh=[];this._isResuming=false},$destructor:function(){this._nodesToRefresh=this._updatedNodes=this._hierarchies=this._queue=null},$statics:{PARENT_PROP:Aria.FRAMEWORK_PREFIX+"containedIn"},$prototype:{queue:function(a,b){this._queue.push({cb:a,elem:b})},stop:function(){this._isResuming||this._stops++},_triggerCB:function(a){var b=
a.scope,c;b=b?b:this;c=a.fn?a.fn:a;if(typeof c=="string")c=b[c];a.scope.$Widget?c.call(b,null,a.args):c.call(b,a.args)},resume:function(){if(!this._isResuming){this._stops--;if(!(this._stops>0)){this._stops=0;this._isResuming=true;var a=this._queue.length;if(Aria.rootTemplates==null||Aria.rootTemplates.length===0)for(var b=0;b<a;b++)this._triggerCB(this._queue[b].cb);else{this.updateHierarchies();this._updatedNodes.length=0;b=this._hierarchies.length;for(var c=0;c<b;c++)for(var e=this._hierarchies[c],
f=0;f<a;f++){var d=this._queue[f],g=this._findInHierarchy(d,e);if(g){if(!g.updated){g.updated=true;g.qElem=d;this._updatedNodes.push(g)}this._queue.splice(f,1);f--;a--}}this._computeMinimal();b=0;for(c=this._nodesToRefresh.length;b<c;b++){d=this._nodesToRefresh[b].qElem;d=d.cb;this._triggerCB(d)}for(b=0;b<a;b++){d=this._queue[b];d=d.cb;this._triggerCB(d)}}this._queue=[];this._isResuming=false}}},isResuming:function(){return this._isResuming},_findInHierarchy:function(a,b){if(this._elemMatches(a,b))return b;
else{if(b.content==null)return null;if(b.content.length>0)for(var c=0;c<b.content.length;c++){var e=this._findInHierarchy(a,b.content[c]);if(e!=null)return e}}return null},_elemMatches:function(a,b){if(a.cb.args&&(a.cb.args.filterSection!=null||a.cb.args.outputSection!=null))if(b.type=="section"){if(b.elem.tplCtxt!=a.elem)return false;return(a.cb.args.filterSection||a.cb.args.outputSection)==b.elem.id}else return false;else if(b.type=="template")return a.elem==b.elem;else if(b.type=="templateWidget")return b.elem.behavior?
b.elem.behavior.subTplCtxt==a.elem:b.elem.subTplCtxt==a.elem;else if(b.type=="widget")return b.elem.behavior._subTplCtxt==a.elem?true:b.elem.behavior==a.elem;else if(b.type=="section")return b.elem==a.elem},isStopped:function(){return this._stops>0},getHierarchies:function(){return this._hierarchies},updateHierarchies:function(){for(var a=this._hierarchies.length=0;a<Aria.rootTemplates.length;a++){var b=Aria.rootTemplates[a];b._mainSection&&this._hierarchies.push(this._fillNode(b))}},_computeMinimal:function(){for(var a=
this._nodesToRefresh.length=0;a<this._hierarchies.length;a++)this._markSubnodesToRefresh(this._hierarchies[a])},_markSubnodesToRefresh:function(a){if(a.updated){this._nodesToRefresh.push(a);var b=a.elem;if(b.refreshManagerWholeUpdate){if(b.refreshManagerWholeUpdate())return}else return}if(a.content&&a.content.length>0)for(b=0;b<a.content.length;b++)this._markSubnodesToRefresh(a.content[b])},_fillNode:function(a){var b={type:null,elem:a,content:[]};if(a.$classpath=="aria.templates.TemplateCtxt"){b.type=
"template";this._addContent(b,a._mainSection._content)}else if(a.$classpath=="aria.widgets.Template"){b.type="templateWidget";if(a.subTplCtxt&&a.subTplCtxt._mainSection){a=a.subTplCtxt._mainSection._content;this._addContent(b,a)}}else if(a._type==1){var c=a.behavior;if(c.$classpath=="aria.widgets.Template"){b.type="templateWidget";if(c.subTplCtxt&&c.subTplCtxt._mainSection){a=c.subTplCtxt._mainSection._content;this._addContent(b,a)}}else{b.type="widget";if(a.behavior._subTplCtxt)this._addContent(b,
a.behavior._subTplCtxt._mainSection._content);else if(a.behavior.$classpath=="aria.widgets.form.DatePicker"){if(a.behavior.controller._calendar&&a.behavior.controller._calendar._tplWidget){a=[a.behavior.controller._calendar._tplWidget];this._addContent(b,a)}}else if(a.behavior.$classpath=="aria.widgets.form.MultiSelect"){if(a.behavior.controller._listWidget){a=[a.behavior.controller._listWidget._tplWidget];this._addContent(b,a)}}else b.content=null}}else if(a.idMap!=null){b.type="section";this._addContent(b,
a._content)}return b},_addContent:function(a,b){for(var c=0;c<b.length;c++){var e=this._fillNode(b[c]);e[this.PARENT_PROP]=a;a.content.push(e)}}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/Repeater.js
//YpwKgK3gnz
(function(){var k=null,j=null,h=null,l=null;Aria.classDefinition({$classpath:"aria.templates.Repeater",$extends:"aria.templates.Section",$constructor:function(a,b,e){if(b.id==null){b.id=k.getId();this._dynamicId=b.id}this.$Section.constructor.call(this,a,b,e);if(this.cfgOk)if(b.macro){this.cfgOk=false;this.$logError(this.REPEATER_MACRO_NOT_SUPPORTED,[this.tplCtxt.tplClasspath,this.id])}else{this.items=[];this.itemsMap=null;this._childIdSuffix=0;this._loopType=b.loopType;this.iteratedSet=b.content;
if(this._updateLoopType()){this._registerIteratedSetListener();this._setChildSectionsCfg(b.childSections)}else this.cfgOk=false}},$destructor:function(){this._dynamicId&&k.releaseId(this._dynamicId);this._unregisterIteratedSetListener();this.$Section.$destructor.call(this)},$onload:function(){k=new aria.utils.IdManager("__repeater");j=aria.utils.Type;h=aria.utils.Json;l=aria.utils.Array},$onunload:function(){k.$dispose();h=l=j=k=null},$statics:{REPEATER_INVALID_ITERATED_SET:"Error in template '%1': the value declared in bindContentTo in the repeater '%2' is not valid or not compatible with the loopType property (%3).",
VIEWS_NOT_SUPPORTED:"Template %1, repeater %2: support for views is not yet implemented in the repeater.",REPEATER_MACRO_NOT_SUPPORTED:"Error in template '%1', in the repeater '%2': the macro property is not supported for repeaters."},$prototype:{beforeRefresh:function(a){a.writerCallback={fn:this._refreshWriterCallback,scope:this}},_refreshWriterCallback:function(a){this.items=[];this.itemsMap={};this._childIdSuffix=0;this.writeContent(a)},_createSectionParam:function(a){var b=this._childSections,
e=this._childSectCBProp,f=this._childSectConstProp,d={};a.sectionId=this.tplCtxt.evalCallback(b.id,a);d.id=a.sectionId;var c,g,i;c=0;for(g=e.length;c<g;c++){i=e[c];d[i]=this.tplCtxt.evalCallback(b[i],a)}c=0;for(g=f.length;c<g;c++){i=f[c];d[i]=b[i]}return d},_initItem:function(a){a.iteratedSet=this.iteratedSet;a.sectionIdSuffix=""+this._childIdSuffix;this._childIdSuffix++},_writeRepeaterItem:function(a){this._initItem(a);this.items[a.ct-1]=a;this.tplCtxt.__$beginSection(0,false,this._createSectionParam(a));
this.tplCtxt.__$endSection()},_loopOver_array:function(a,b,e){for(var f=0,d=a.length;f<d;f++)b.call(this,{index:f,ct:f+1,item:a[f]},e)},_loopOver_sortedView:function(a,b,e){a.refresh();a=a.items;for(var f=0,d=a.length;f<d;f++){var c=a[f];b.call(this,{index:f,ct:f+1,info:c,item:c.value},e)}},_loopOver_filteredView:function(a,b,e){a.refresh();a=a.items;for(var f=1,d=0,c=a.length;d<c;d++){var g=a[d];if(g.filteredIn){b.call(this,{index:d,ct:f,info:g,item:g.value},e);f++}}},_loopOver_pagedView:function(a,
b,e){a.refresh();var f=a.pages[a.currentPageIndex];a=a.items;var d=1,c=f.firstItemIndex;for(f=f.lastItemIndex;c<=f;c++){var g=a[c];if(g.filteredIn){b.call(this,{index:c,ct:d,info:g,item:g.value},e);d++}}},_loopOver_map:function(a,b,e){var f=1;this.itemsMap={};for(var d in a)if(a.hasOwnProperty(d)&&!h.isMetadata(d)){var c={index:d,ct:f,item:a[d]};b.call(this,c,e);this.itemsMap[d]=c;f++}},_defaultCallback_id:function(a,b){return b+a.sectionIdSuffix},_defaultCallback_macro:function(a,b){var e=l.clone(b.args);
e.push(a);return{name:b.name,args:e,scope:b.scope}},_setChildSectionsCfg:function(a){var b={},e=[],f=[],d;for(d in a)if(a.hasOwnProperty(d)){var c=a[d];if((b[d]=c)&&(j.isFunction(c)||c.fn))d!="id"&&e.push(d);else if(d=="id"||d=="macro"){if(d=="macro")c=this.tplCtxt.checkMacro(c);b[d]={fn:this["_defaultCallback_"+d],args:c,scope:this};d!="id"&&e.push(d)}else f.push(d)}this._childSectCBProp=e;this._childSectConstProp=f;this._childSections=b},_registerIteratedSetListener:function(){var a=this._loopType;
if(a=="array"||a=="map"){a={scope:this,fn:this._notifyChange};h.addListener(this.iteratedSet,null,a);this._iteratedSetListener=a}},_unregisterIteratedSetListener:function(){var a=this._iteratedSetListener;if(a){h.removeListener(this.iteratedSet,null,a);this._iteratedSetListener=null}},_notifyIteratedSetReplaced:function(){this._unregisterIteratedSetListener();this.tplCtxt.$refresh({outputSection:this.id})},refreshManagerWholeUpdate:function(){this.$assert(341,this._refreshMgrInfo);return this._refreshMgrInfo.queue==
null},_refreshManagerCallback:function(){var a=this._refreshMgrInfo;if(a){this._refreshMgrInfo=null;var b=a.queue;if(b){a=0;for(var e=b.length;a<e;a++)this._notifyChange(b[a])}else this.tplCtxt.$refresh(a.refreshArgs)}},_checkRefreshManager:function(a){if(aria.templates.RefreshManager.isStopped()){var b=this._registerInRefreshMgr().queue;b&&b.push(a);return true}return false},_notifyChange_array:function(a){if(!this._checkRefreshManager(a)){var b=a.change,e=this.items;if(b==h.VALUE_CHANGED||b==h.KEY_REMOVED||
b==h.KEY_ADDED){b=parseInt(a.dataName);if(!(b!=a.dataName||b<0))if(b<e.length){h.setValue(e[b],"item",a.newValue);this.tplCtxt.$refresh({outputSection:e[b].sectionId})}else{for(var f=e.length,d=[],c=f;c<=b;c++){var g={index:c,ct:c+1,item:c==b?a.newValue:void 0};e[c]=g;this._initItem(g);d[c-f]=this._createSectionParam(g)}this.tplCtxt.insertAdjacentSections({refSection:{domElt:this.getDom(),object:this},sections:d,position:"beforeEnd"})}}else if(b==h.SPLICE){b=a.index;if(f=a.removed.length)for(c=0;c<
f;c++)this.tplCtxt.$getElementById(this.items[b+c].sectionId).remove();var i=a.added;if(a=i.length){d=[];var m=[b,f];for(c=0;c<a;c++){g={index:b+c,ct:b+c+1,item:i[c]};m[c+2]=g;this._initItem(g);d[c]=this._createSectionParam(g)}e.splice.apply(e,m);if(b>0){e=this.getSectionById(e[b-1].sectionId);this.tplCtxt.insertAdjacentSections({refSection:{domElt:e.getDom(),object:e},sections:d,position:"afterEnd"})}else this.tplCtxt.insertAdjacentSections({refSection:{domElt:this.getDom(),object:this},sections:d,
position:"afterBegin"})}else e.splice(b,f);a!=f&&this._updateRemainingItems(b+a,true)}}},_updateRemainingItems:function(a,b){var e=this.items,f=this._childSections.cssClass;f&&(j.isFunction(f)||f.fn)||(f=null);for(var d=e.length-1;d>=a;d--){var c=e[d];b&&h.setValue(c,"index",d);h.setValue(c,"ct",d+1);if(f){var g=this.getSectionById(c.sectionId),i=g.cssClass;c=this.tplCtxt.evalCallback(f,c);if(i!=c){g.getDom().className=c;g.cssClass=c}}}},_notifyChange_map:function(a){var b=a.change;if(!(b!=h.VALUE_CHANGED&&
b!=h.KEY_REMOVED&&b!=h.KEY_ADDED))if(!this._checkRefreshManager(a)){var e=this.itemsMap,f=this.items,d=this.iteratedSet;a=a.dataName;if(!h.isMetadata(a))if(e.hasOwnProperty(a)){var c=e[a];if(b==h.KEY_REMOVED){this.tplCtxt.$getElementById(c.sectionId).remove();f.splice(c.ct-1,1);delete e[a];this._updateRemainingItems(c.ct-1,false)}else{h.setValue(c,"item",d[a]);this.tplCtxt.$refresh({outputSection:c.sectionId})}}else if(b!=h.VALUE_CHANGED){c={index:a,ct:f.length+1,item:d[a]};this._initItem(c);f[c.ct-
1]=c;this.tplCtxt.insertAdjacentSections({refSection:{domElt:this.getDom(),object:this},sections:[this._createSectionParam(c)],position:"beforeEnd"})}}},_updateLoopType:function(){var a=true,b=this._loopType,e=this.iteratedSet;if(b=="array")a=j.isArray(e);else if(b=="map")a=j.isObject(e);else if(b!=null){a=j.isInstanceOf(e,"aria.templates.View");if(b=="view")b="pagedView"}else{if(j.isArray(e))b="array";else if(j.isInstanceOf(e,"aria.templates.View"))b="pagedView";else if(j.isObject(e))b="map";else a=
false;this._loopType=b}if(!a){this.$logError(this.REPEATER_INVALID_ITERATED_SET,[this.tplCtxt.tplClasspath,this.id,b],e);return false}if(b!="map"&&b!="array"){this.$logError(this.VIEWS_NOT_SUPPORTED,[this.tplCtxt.tplClasspath,this.id]);return false}this._loopOver=this["_loopOver_"+b];this._notifyChange=this["_notifyChange_"+b];return true},writeContent:function(){this._loopOver(this.iteratedSet,this._writeRepeaterItem)}}})})();
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/Section.js
//YpwKgK3gnz
(function(){Aria.classDefinition({$classpath:"aria.templates.Section",$dependencies:["aria.utils.Array","aria.utils.Json","aria.utils.Delegate","aria.templates.NavigationManager","aria.templates.CfgBeans","aria.utils.Dom","aria.utils.String","aria.templates.DomElementWrapper","aria.utils.Html"],$constructor:function(a,b,c){var e,d;this._content=[];this.parent=null;this._initWidgetsDone=false;this.html=null;this._bindings=[];this._processing=null;this.delegateIds=[];this.cfgOk=true;this.tplCtxt=a;
this.delegateCallbacks=[];this.isRoot=c&&c.isRoot===true;this.idMap=c&&c.ownIdMap?{}:null;this.delegateId=aria.utils.Delegate.add({fn:this._onDomEvent,scope:this});if(!this.isRoot){try{aria.core.JsonValidator.normalize({json:b,beanName:"aria.templates.CfgBeans."+this.$class+"Cfg"},true)}catch(f){this.cfgOk=false;if(c=aria.core.Log){a=0;for(e=f.errors.length;a<e;a++){d=f.errors[a];d.message=c.prepareLoggedMessage(d.msgId,d.msgArgs)}this.$logError(this.INVALID_CONFIGURATION,[this.tplCtxt.tplClasspath,
b.id],f)}return}d=b.type;c=b.bindRefreshTo;e=b.id;if(/^[_\w]+$/.test(e)){this.domType=d;this.id=e;this.cssClass=b.cssClass;this.keyMap=b.keyMap;this.tableNav=b.tableNav;this.processingLabel=b.processingLabel;this.__skipProcessingChange=false;this.macro=b.macro?a.checkMacro(b.macro):null;this.wrapper=null;for(e=0;a=c[e];e++)this.registerBinding(a);this.registerProcessing(b.bindProcessingTo);this._refreshMgrInfo=null;this.attributes=b.attributes}else{this.$logError(this.INVALID_SECTION_ID,[this.tplCtxt.tplClasspath,
e]);this.cfgOk=false}}},$destructor:function(){this.removeDelegateIdsAndCallbacks();if(this.delegateId){aria.utils.Delegate.remove(this.delegateId);this.delegateId=null}if(this._content){this.removeContent();if(this.id&&this.idMap){this.idMap[this.id]=null;delete this.idMap[this.id]}this.idMap=this._content=null}var a=this.parent;if(a){this.parent=null;a.removeSubSection(this)}this._listenersStopped!=true&&this.stopListeners();this._processing=null;if(a=this.wrapper){a.$dispose();this.wrapper=null}this.tplCtxt=
this._domElt=this._refreshMgrInfo=this.html=null},$events:{beforeRemoveContent:"Raised just before the section content is disposed.",afterRemoveContent:"Raised just after the section content is disposed."},$statics:{MISSING_TO_BINDING:"Invalid Binding Configuration: 'to' is mandatory",INVALID_TO_BINDING:"Invalid Binding Configuration: 'to' must be a Boolean value or null",WIDGETCALL_ERROR:"Error in '%2' for widget '%1'.",INVALID_SECTION_ID:"Error in template '%1': invalid section id '%2'.",SECTION_ALREADY_EXISTS:"Error in template '%1': section uses already used id '%2'.",
SECTION_BINDING_ERROR:"Section binding failed. Inside: %1, to: %2. Section id: %3, template: %4.",INVALID_CONFIGURATION:"Error in template '%1': invalid configuration for section id '%2'.",WIDGET_ID_NOT_UNIQUE:"The %1 widget with id %2 does not have a unique id"},$prototype:{$init:function(a){a.__navigationManager=aria.templates.NavigationManager;a.__json=aria.utils.Json},_type:0,initWidgets:function(){var a=[];if(this._initWidgetsDone)return a;this._initWidgetsDone=true;this.html=null;for(var b=
this._content,c=b.length,e=0;e<c;e++){var d=b[e];if(d._type==1){d=d.behavior;if(d.initWidget)try{d.initWidget();d.isDiffered&&a.push(d)}catch(f){this.$logError(this.WIDGETCALL_ERROR,[d.$classpath,"initWidget"],f)}}else a=a.concat(d.initWidgets())}this.refreshProcessingIndicator();return a},removeContent:function(){this.$raiseEvent("beforeRemoveContent");this._removingContent=true;for(var a=this._content,b=a.length,c=0;c<b;c++){var e=a[c];if(e._type==1){var d=e.behavior;if(e.id&&this.idMap){this.idMap[e.id]=
null;delete this.idMap[e.id]}d.$dispose()}else e.$dispose()}this._content=[];this._removingContent=this._initWidgetsDone=false;this.$raiseEvent("afterRemoveContent")},removeDelegateIdsAndCallbacks:function(){if(this.delegateIds){for(var a=0,b=this.delegateIds.length;a<b;a++)aria.utils.Delegate.remove(this.delegateIds[a]);this.delegateIds=[]}a=0;for(b=this.delegateCallbacks.length;a<b;a++)this.delegateCallbacks[a].$dispose();this.delegateCallbacks=[]},addBehavior:function(a){var b=a.getId?a.getId():
null,c={_type:1,behavior:a,section:this,id:b};if(b&&this.idMap)if(this.idMap[b]){this.$logError(this.WIDGET_ID_NOT_UNIQUE,[this.tplCtxt.tplClasspath,b,a.$class]);c.id=null}else this.idMap[b]=c;this._content.push(c)},getBehaviorById:function(a){if((a=this.idMap?this.idMap[a]:null)&&a._type==1)return a.behavior;return null},getSectionById:function(a){if((a=this.idMap?this.idMap[a]:null)&&a._type==0)return a;return null},addSubSection:function(a){this.$assert(141,!a.parent);this.$assert(142,a._type==
0);this.$assert(143,a.tplCtxt==this.tplCtxt);a.parent=this;a.__updateIdMap(this.idMap);this._content.push(a)},__updateIdMap:function(a){if(this.idMap!=a){this.idMap=a;var b=this.id;if(b&&a)if(a[b])this.$logError(this.SECTION_ALREADY_EXISTS,[this.tplCtxt.tplClasspath,b]);else a[b]=this;for(var c=this._content,e=c.length,d=0;d<e;d++){var f=c[d];if(f._type==0)f.__updateIdMap(a);else if((b=f.id)&&a)if(a[b])this.$logError(this.WIDGET_ID_NOT_UNIQUE,[this.tplCtxt.tplClasspath,b,f.behavior.$class]);else a[b]=
f}}},removeSubSection:function(a){this._removingContent||aria.utils.Array.remove(this._content,a)},registerBinding:function(a){if(a){var b={fn:this._notifyDataChange,scope:this,args:{tplCtxt:this.tplCtxt}};try{a.recursive=a.recursive!==false;this.__json.addListener(a.inside,a.to,b,true,a.recursive);this._bindings.push({inside:a.inside,callback:b,to:a.to,recursive:a.recursive})}catch(c){this.$logError(this.SECTION_BINDING_ERROR,[a.inside,a.to,this.id,this.tplCtxt.tplClasspath])}}},__isValidProcessingBind:function(a){if(!a||
a.to==null){this.$logError(this.MISSING_TO_BINDING);return false}a=a.inside[a.to];if(a==null||aria.utils.Type.isBoolean(a))return true;this.$logError(this.INVALID_TO_BINDING);return false},registerProcessing:function(a){if(a&&this.__isValidProcessingBind(a)){var b={fn:this._notifyProcessingChange,scope:this};this.__json.addListener(a.inside,a.to,b);this._processing={inside:a.inside,callback:b,to:a.to}}},registerProcessingIndicator:function(a,b){var c=this._processing,e=!!c;this.tplCtxt.registerProcessingIndicator(a,
b,this.id);if(e){this.__skipProcessingChange=true;this.__json.setValue(c.inside,c.to,a);this.__skipProcessingChange=false}},refreshProcessingIndicator:function(a){if(a){a=this._content;for(var b=0,c=a.length;b<c;b++)if(a[b].refreshProcessingIndicator)a[b].refreshProcessingIndicator(true);else a[b].behavior&&a[b].behavior.subTplCtxt&&a[b].behavior.subTplCtxt.refreshProcessingIndicator()}(a=this._processing)&&a.inside[a.to]&&this.__getWrapper().setProcessingIndicator(true,this.processingLabel)},_notifyDataChange:function(a,
b){!this._initWidgetsDone||!b.tplCtxt._cfg||!b.tplCtxt._cfg.tplDiv||(this.macro?b.tplCtxt.$refresh({outputSection:this.id,macro:this.macro}):b.tplCtxt.$refresh({filterSection:this.id}))},_notifyProcessingChange:function(a){this.__skipProcessingChange||this.__getWrapper().setProcessingIndicator(a.newValue,this.processingLabel)},__getWrapper:function(){var a=this.wrapper;if(!a){a=this.tplCtxt.$getElementById(this.id);this.$assert(634,a!=null);this.wrapper=a}return a},writeBegin:function(a){if(this.domType){var b=
this.cssClass?' class="'+this.cssClass+'"':"";b=["<",this.domType,this.attributes?aria.utils.Html.buildAttributeList(this.attributes):"",b,' id="',this.tplCtxt.$getId(this.id),'" ',aria.utils.Delegate.getMarkup(this.delegateId),">"];a.write(b.join(""))}},writeEnd:function(a){this.domType&&a.write("</"+this.domType+">")},_onDomEvent:function(a){this.__navigationManager.handleNavigation(this.keyMap,this.tableNav,a)},copyConfigurationTo:function(a){this.$assert(708,a.idMap==null);a.id=this.id;a.domType=
this.domType;a.tableNav=this.tableNav;a.keyMap=this.keyMap;a.macro=this.macro},notifyRefreshPlanned:function(a){var b=this._registerInRefreshMgr();b.queue=null;b.refreshArgs=a},_registerInRefreshMgr:function(){var a=this._refreshMgrInfo;if(!a){this._refreshMgrInfo=a={refreshArgs:null,queue:[]};aria.templates.RefreshManager.queue({fn:this._refreshManagerCallback,scope:this},this)}return a},_refreshManagerCallback:function(){var a=this._refreshMgrInfo;if(a){this._refreshMgrInfo=null;a.queue||this.tplCtxt.$refresh(a.refreshArgs)}},
beforeRefresh:function(a){var b=this.macro;if(b)if(a.macro){a=a.macro;if(aria.utils.Type.isObject(a)&&!a.name){a.name=b.name;a.scope=b.scope;if(!a.args)a.args=b.args}}else a.macro=b;this._domElt=null},getDom:function(){if(!this._domElt)this._domElt=aria.utils.Dom.getElementById(this.tplCtxt.$getId(this.id));return this._domElt},moveContentTo:function(a){var b=this._content;this.$assert(805,this.idMap==null);this.$assert(806,b);for(var c=a._content,e=c.length,d=0,f=b.length;d<f;d++){var g=b[d];c[e+
d]=g;if(g._type==0)g.parent=a}this.__updateIdMap(a.idMap);a.delegateIds=a.delegateIds.concat(this.delegateIds);a.delegateCallbacks=a.delegateCallbacks.concat(this.delegateCallbacks);this.delegateIds=[];this.delegateCallbacks=[];b=null;if(a._initWidgetsDone)b=this.initWidgets();this.idMap=null;this._content=[];return b},stopListeners:function(){this.$assert(838,this._listenersStopped!=true);this._listenersStopped=true;var a=this._bindings;if(a)for(var b=0,c;c=a[b];b++)this.__json.removeListener(c.inside,
c.to,c.callback,c.recursive);(a=this._processing)&&this.__json.removeListener(a.inside,a.to,a.callback)},resumeListeners:function(){this.$assert(859,this._listenersStopped==true);this._listenersStopped=false;var a=this._bindings;if(a)for(var b=0,c;c=a[b];b++)this.__json.addListener(c.inside,c.to,c.callback,true,c.recursive);(a=this._processing)&&this.__json.addListener(a.inside,a.to,a.callback)},writeContent:function(a){this.macro&&a.callMacro(this.macro)}}})})();
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/SectionWrapper.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.SectionWrapper",$extends:"aria.templates.DomElementWrapper",$dependencies:["aria.utils.DomOverlay","aria.utils.Dom"],$constructor:function(b,c){if(b)for(;b.nodeType!=1;)b=b.parentNode;this.$DomElementWrapper.constructor.call(this,b,c.tplCtxt);this.insertAdjacentSection=function(a,d){a!="beforeBegin"&&a!="afterBegin"&&a!="beforeEnd"&&a!="afterEnd"?this.$logError(aria.utils.Dom.INSERT_ADJACENT_INVALID_POSITION,[a]):c.tplCtxt.insertAdjacentSections({position:a,
refSection:{domElt:b,object:c},sections:[d]})};this.remove=function(){c.$dispose();var a=b.parentNode;aria.utils.Dom.removeElement(b);aria.utils.Dom.refreshDomElt(a);this.$dispose()};this.setProcessingIndicator=function(a,d){var e,f=true;if(a)e=aria.utils.DomOverlay.create(b,d);else(e=aria.utils.DomOverlay.detachFrom(b))||(f=false);f&&c.registerProcessingIndicator(a,e)};var i=this.classList.setClassName;this.classList.setClassName=function(a){i.call(this,a);c.cssClass=a};var g=this.setClassName;this.setClassName=
function(a){g.call(this,a);c.cssClass=a};var h=this._dispose;this._dispose=function(){h.call(this);g=h=c=null}},$prototype:{}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/Statements.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.Statements",$dependencies:["aria.utils.String","aria.templates.Modifiers","aria.utils.Path","aria.utils.Delegate"],$singleton:true,$statics:{SHOULD_BE_IN_MACRO:"line %2: Template error: statement '%1' cannot be used out of a macro.",TEMPLATE_STATEMENT_MISUSED:"Template error: the '%1' statement is misused, it should only be used as the root statement in a template.",ELSE_WITHOUT_IF:"line %1: Template error: 'else' or 'elseif' is used outside an 'if' structure.",
ELSEIF_AFTER_ELSE:"line %1: Template error: 'elseif' is used after 'else' in the same 'if' structure.",ELSE_ALREADY_USED:"line %1: Template error: an 'else' statement has already been used in this 'if' structure.",INVALID_WIDGET_SYNTAX:"line %1: Template error: invalid syntax for the widget statement; expected syntax: @lib:widget",UNDECLARED_WIDGET_LIBRARY:"line %2: Template error: found widget library '%1', which is undeclared in the wlibs parameter of the 'Template' statement.",INVALID_MODIFIER_SYNTAX:"line %2: Template error: invalid modifier syntax '%1'.",
UNKNOWN_WIDGET:"line %2: Template error: unknown widget '%1'.",MACRO_ALREADY_DEFINED:"line %3: Template error: macro '%1' is already defined line %2.",SEPARATOR_NOT_FIRST_IN_FOREACH:"line %1: Template error: the separator statement can only be used as the first statement inside a {foreach ...} ... {/foreach} loop.",INCOMPATIBLE_CREATEVIEW:"line %2: Template error: two createView statements with the same view base name must have the same depth (previous definition line %1).",INCORRECT_VARIABLE_NAME:"line %2: Template error: incorrect variable name '%1'.",
INVALID_FOREACH_INKEYWORD:"line %2: Template error: invalid foreach syntax, expected one of 'in', 'inView', 'inFilteredView', 'inSortedView', 'inPagedView' but found: '%1'.",INVALID_WIDGET_LIBRARY:"line %3: Template error: %1 (%2) is not a valid widget library. A widget library must extend aria.widgetLibs.WidgetLib.",INVALID_EVENT_TYPE:"The event type: '%1' is an invalid event type."},$constructor:function(){var l=aria.utils.String,n=aria.templates.Modifiers,m=aria.utils.Path,h=this,k={inMacro:false,
container:true,process:function(a,c){return a.logError(c,h.TEMPLATE_STATEMENT_MISUSED,[c.name])}};this.ALLSTATEMENTS={Template:k,Library:k,CSSTemplate:k,TextTemplate:k,"#TEXT#":{container:false,process:function(a,c){if(a.isOutputReady()){var b=a.stringify(c.paramBlock);a.writeln("this.__$write(",b,",",c.lineNumber,");")}else c.paramBlock.replace(/[ \t\r\n]+/gm,"")!=""&&a.logError(c,h.SHOULD_BE_IN_MACRO,["#TEXT# - "+c.paramBlock])}},"#CDATA#":{inMacro:true,container:false,process:function(a,c){var b=
a.stringify(c.paramBlock);a.writeln("this.__$write(",b,",",c.lineNumber,");")}},"#EXPRESSION#":{inMacro:true,container:false,process:function(a,c){for(var b=c.paramBlock,d=l.indexOfNotEscaped(b,"|"),f=[];d!=-1;){f.push(b.substr(0,d));b=b.substr(d+1);d=l.indexOfNotEscaped(b,"|")}f.push(b);b=[];d=[];for(var e,g=/^(\w+)(?::([\s\S]*))?$/,i=f.length-1;i>=1;i--){var j=f[i];e=g.exec(j);if(!e)return a.logError(c,h.INVALID_MODIFIER_SYNTAX,[j]);j=e[1];n.initModifier(j,a);b.push("this.$modifier('"+j+"',[");
e=e[2];d[i]=e?","+e+"])":"])"}e=f[0];b.push(e);e=b.concat(d).join("");if(a.debug)e=a.wrapExpression(e,c,"this.EXCEPTION_IN_EXPRESSION");a.writeln("this.__$write(",e,",",c.lineNumber,");")}},separator:{inMacro:true,container:true,paramRegexp:/^$/,process:function(a,c){var b=c.parent,d=b.content[0]==c||b.content[1]==c&&b.content[0].name=="#TEXT#";if(b.name!="foreach"||!d)a.logError(c,h.SEPARATOR_NOT_FIRST_IN_FOREACH);else{a.writeln("if (",b[Aria.FRAMEWORK_PREFIX+"foreachCounter"],">1) {");a.increaseIndent();
a.processContent(c.content);a.decreaseIndent();a.writeln("}")}}},id:{inMacro:true,container:false,paramRegexp:/^\s*(\S[\s\S]*)\s*$/,process:function(a,c,b){a.writeln("this.__$writeId(",b[0],",",c.lineNumber,");")}},on:{inMacro:true,container:false,paramRegexp:/^(\w+)\s+([\s\S]+)$/,process:function(a,c,b){var d=b[1];b=b[2];var f=aria.utils.Delegate,e=f.delegatedGestures[d];e&&a.addDependency(e);f.supportedEvents[d]||a.logWarn(c,h.INVALID_EVENT_TYPE,[d]);a.writeln("this.__$statementOnEvent(",a.stringify(d),
",this.$normCallback(",b,"),",c.lineNumber,");")}},bindRefreshTo:{inMacro:true,container:false,paramRegexp:/^([\s\S]+)$/,process:function(a,c,b){var d;d=m.parse(l.trim(c.paramBlock));if(d.length>1){b=a.stringify(d.pop());d=m.pathArrayToString(d)}else{b="null";d=d[0]}a.writeln("this.__$bindAutoRefresh(",d,", ",b,", ",c.lineNumber,");")}},"if":{inMacro:true,container:true,process:function(a,c){a.writeln("if (",c.paramBlock,") {");a.increaseIndent();a.processContent(c.content);delete c[Aria.FRAMEWORK_PREFIX+
"elsepresent"];a.decreaseIndent();a.writeln("}")}},elseif:{inMacro:true,container:false,process:function(a,c){var b=c.paramBlock,d=c.parent;if(d.name!="if")return a.logError(c,h.ELSE_WITHOUT_IF);if(d[Aria.FRAMEWORK_PREFIX+"elsepresent"])return a.logError(c,h.ELSEIF_AFTER_ELSE);a.decreaseIndent();a.writeln("} else if (",b,") {");a.increaseIndent()}},"else":{inMacro:true,container:false,paramRegexp:/^$/,process:function(a,c){var b=c.parent;if(b.name!="if")return a.logError(c,h.ELSE_WITHOUT_IF);else if(b[Aria.FRAMEWORK_PREFIX+
"elsepresent"])return a.logError(c,h.ELSE_ALREADY_USED);b[Aria.FRAMEWORK_PREFIX+"elsepresent"]=true;a.decreaseIndent();a.writeln("} else {");a.increaseIndent()}},createView:{inMacro:undefined,container:false,paramRegexp:/^([_\w]+)(\[([^\[\]]+(\]\[[^\[\]])*)\])?\s+on\s+([\s\S]+)$/,process:function(a,c,b){var d=b[1];if(Aria.isJsReservedWord(d))return a.logError(c,h.INCORRECT_VARIABLE_NAME,[d]);var f=b[3];b=b[5];var e=[],g=0;if(f){e=f.split("][");g=e.length;f=["[(",e.join("),("),")]"].join("")}else f=
"[]";e=a.getView(d);if(e.firstDefinition){if(e.nbParams!=g){a.logError(c,h.INCOMPATIBLE_CREATEVIEW,[e.firstDefinition.lineNumber]);return}}else{e.firstDefinition=c;e.nbParams=g}a.addDependency("aria.templates.View");(c=!a.isOutputReady())&&a.enterBlock("globalVars");a.writeln(c?"this.":"var ",d,"=this.__$createView(",a.stringify(d),",",f,",(",b,"));");c&&a.leaveBlock()}},"for":{inMacro:true,container:true,process:function(a,c){a.writeln("for (",c.paramBlock,") {");a.increaseIndent();a.processContent(c.content);
a.decreaseIndent();a.writeln("}")}},foreach:{inMacro:true,container:true,paramRegexp:/^([_\w]+)\s+(\w+)\s+([\s\S]+)$/,process:function(a,c,b){var d=a.newVarName(),f=b[1];if(Aria.isJsReservedWord(f))return a.logError(c,h.INCORRECT_VARIABLE_NAME,[f]);var e=b[2];if(e!="in"&&e!="inArray"&&e!="inView"&&e!="inSortedView"&&e!="inFilteredView"&&e!="inPagedView")return a.logError(c,h.INVALID_FOREACH_INKEYWORD,[e]);var g=e!="in"&&e!="inArray";if(e=="inView")e="inPagedView";var i=b[3];b=f+"_index";if(a.debug)i=
a.wrapExpression(i,c,"this.ITERABLE_UNDEFINED");a.writeln("var ",d,"=(",i,");");a.writeln("if(",i,"==undefined){");a.increaseIndent();a.writeln("this.$logError(this.ITERABLE_UNDEFINED,[",a.stringify(c.name),", ",c.lineNumber,"]);");a.decreaseIndent();a.writeln("}");i=f+"_ct";c[Aria.FRAMEWORK_PREFIX+"foreachCounter"]=i;a.writeln("var ",i,"=0;");if(g){g=a.newVarName();a.writeln(d,".refresh();");if(e=="inPagedView"){var j=a.newVarName();a.writeln("var ",j,"=",d,".currentPageIndex;");a.writeln("var ",
g,"=",d,".pages[",j,"].lastItemIndex;");a.writeln("for (var ",b,"=",d,".pages[",j,"].firstItemIndex;",b,"<=",g,";",b,"++) {")}else{a.writeln("var ",g,"=",d,".items.length;");a.writeln("for (var ",b,"=0;",b,"<",g,";",b,"++) {")}a.increaseIndent();a.writeln("var ",f,"_info=",d,".items[",b,"];");if(e=="inPagedView")a.writeln("if (",f,"_info.pageIndex==",j,") {");else e=="inFilteredView"&&a.writeln("if (",f,"_info.filteredIn) {");a.increaseIndent();a.writeln("var ",f,"=",f,"_info.value;")}else{if(e==
"inArray"){g=a.newVarName();a.writeln("var ",g,"=",d,".length;");a.writeln("for (var ",b,"=0;",b,"<",g,";",b,"++) {")}else{a.writeln("for (var ",b," in ",d,") {");a.increaseIndent();a.writeln("if (",d,".hasOwnProperty(",b,") && !this.$json.isMetadata(",b,")) {")}a.increaseIndent();a.writeln("var ",f,"=",d,"[",b,"];")}a.writeln(i,"++;");a.processContent(c.content);if(e!="inSortedView"&&e!="inArray"){a.decreaseIndent();a.writeln("}")}a.decreaseIndent();a.writeln("}")}},repeater:{inMacro:true,container:false,
process:function(a,c){var b=c.paramBlock;if(a.debug)b=a.wrapExpression(b,c,"this.EXCEPTION_IN_REPEATER_PARAMETER");a.addDependency("aria.templates.Repeater");a.writeln("this.__$statementRepeater(",c.lineNumber,",(",b,"));")}},macro:{inMacro:false,container:true,paramRegexp:/^([_\w]+)\s*(\(\s*([_\w]+\s*(,\s*[_\w]+\s*)*)?\))\s*$/,process:function(a,c,b){var d=b[1],f=a.getMacro(d);if(f.definition!=null)return a.logError(c,h.MACRO_ALREADY_DEFINED,[d,f.definition.lineNumber]);f.definition=c;a.enterBlock("prototype");
a.writeln("macro_",d,": function ",b[2],"{");a.increaseIndent();a.writeln("try {");a.increaseIndent();a.writeln("with (this) {");a.increaseIndent();a.processContent(c.content);a.decreaseIndent();a.writeln("}");a.decreaseIndent();a.writeln("} catch (_ex) {");a.increaseIndent();a.writeln("this.$logError(this.EXCEPTION_IN_MACRO,[",a.stringify(d),", this['"+Aria.FRAMEWORK_PREFIX+"currentLineNumber']],_ex);");a.decreaseIndent();a.writeln("}");a.decreaseIndent();a.writeln("},");a.leaveBlock()}},memo:{inMacro:true,
container:true,paramRegexp:/^[\S\s]*$/,process:function(a,c){a.processContent(c.content)}},call:{inMacro:true,container:false,paramRegexp:/^(\$?[_\w]+\.)?([_\w]+)\s*\(([\s\S]*)\)\s*$/,process:function(a,c,b){var d=b[1],f=b[2],e=b[3];if(d){b="this."+d+"macro_"+f;e=d.charAt(0)=="$"?b+".apply(this,["+e+"]);":b+"("+e+");"}else{b="this.macro_"+f;e=b+"("+e+");"}if(a.debug){d=d?d+f:f;a.writeln("if (",b," == null) {");a.increaseIndent();a.writeln("this.$logError(this.MACRO_NOT_FOUND,[",c.lineNumber,",",a.stringify(d),
"]);");a.decreaseIndent();a.writeln("}")}a.writeln(e)}},section:{inMacro:true,container:null,process:function(a,c){a.writeln("this.__$beginSection(",c.lineNumber,",",c.content?"true":"false",",",c.paramBlock,");");c.content&&a.processContent(c.content);a.writeln("this.__$endSection();")}},"var":{inMacro:undefined,container:false,paramRegexp:/^([_\w]+)\s*=([\s\S]*)$/,process:function(a,c,b){var d=b[1];b=b[2];if(Aria.isJsReservedWord(d))return a.logError(c,h.INCORRECT_VARIABLE_NAME,[d]);if(a.isOutputReady()){if(a.debug)b=
a.wrapExpression(b,c,"this.EXCEPTION_IN_VAR_EXPRESSION");a.writeln("var ",d,"=(",b,");")}else{a.enterBlock("globalVars");if(a.debug)b=a.wrapExpression(b,c,"this.EXCEPTION_IN_VAR_EXPRESSION");a.writeln("this.",d,"=(",b,");");a.leaveBlock()}}},set:{inMacro:true,container:false,paramRegexp:/^([_\w]+(?:\.[_\w]+)*)\s*([\+\-]?\=)([\s\S]*)$/,process:function(a,c,b){var d=b[1],f=b[2];b=b[3];for(var e=d.split("."),g=0,i=e.length;g<i;g++)if(Aria.isJsReservedWord(e[g]))return a.logError(c,h.INCORRECT_VARIABLE_NAME,
[d]);if(a.debug)b=a.wrapExpression(b,c,"this.EXCEPTION_IN_SET_EXPRESSION");a.writeln(d,f,"(",b,");")}},checkDefault:{inMacro:true,container:false,paramRegexp:/^([_\w]+)\s*\=([\s\S]*)$/,process:function(a,c,b){var d=b[1];b=b[2];if(Aria.isJsReservedWord(d))return a.logError(c,h.INCORRECT_VARIABLE_NAME,[d]);if(a.debug)b=a.wrapExpression(b,c,"this.EXCEPTION_IN_CHECKDEFAULT_EXPRESSION");a.writeln("if (",d,"===undefined) {");a.increaseIndent();a.writeln(d,"=(",b,");");a.decreaseIndent();a.writeln("}")}},
"@":{inMacro:true,container:null,process:function(a,c){var b=/^@(\w+):(\w+)$/.exec(c.name);if(!b||b.length!=3)return a.logError(c,h.INVALID_WIDGET_SYNTAX);var d=b[1];b=b[2];var f=a.templateParam.$wlibs[d];if(f===undefined)return a.logError(c,h.UNDECLARED_WIDGET_LIBRARY,[d]);var e=a.wlibs[d];if(!e){e=Aria.getClassRef(f);if(!aria.utils.Type.isInstanceOf(e,"aria.widgetLibs.WidgetLib"))return a.logError(c,h.INVALID_WIDGET_LIBRARY,[d,f]);a.wlibs[d]=e}d=e.getWidgetDependencies(b,a.allDependencies);if(!d)return a.logError(c,
h.UNKNOWN_WIDGET,[c.name]);a.addDependencies(d);d=c.paramBlock;if(d.length===0)d="undefined";else{e=[];for(var g=/[\'\"](aria\.widgets\.transform\.(.+))[\'\"]/g,i=g.exec(d);i;){e.push(i[1]);i=g.exec(d)}a.addDependencies(e)}if(a.debug&&d!="undefined")d=a.wrapExpression(d,c,"this.EXCEPTION_IN_CONTROL_PARAMETERS");if(c.content){a.writeln("if (this.__$beginContainerWidget(",a.stringify(f),",",a.stringify(b),",(",d,"),",c.lineNumber,")) {");a.increaseIndent();a.processContent(c.content);a.writeln("this.__$endContainerWidget();");
a.decreaseIndent();a.writeln("}")}else a.writeln("this.__$processWidgetMarkup(",a.stringify(f),",",a.stringify(b),",(",d,"),",c.lineNumber,");")}}}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/Template.js
//YpwKgK3gnz
(function(){var f=function(a){if(!a||!a.changedProperties||aria.utils.Array.contains(a.changedProperties,"contextualMenu"))Aria.load({classes:[d]})},d="aria.tools.contextual.ContextualMenu",e=["aria.tools.contextual.environment.ContextualMenu","aria.templates.TemplateCtxt","aria.templates.Modifiers","aria.utils.Array","aria.utils.Json","aria.templates.ITemplate","aria.utils.environment.VisualFocus"];(function(){var a=aria.core.AppEnvironment.applicationSettings.contextualMenu;return a&&a.enabled})()&&
e.push(d);Aria.classDefinition({$classpath:"aria.templates.Template",$extends:"aria.templates.BaseTemplate",$dependencies:e,$statics:{EXCEPTION_IN_CONTROL_PARAMETERS:"line %2: Uncaught runtime exception in control %3 for parameters '%1'",EXCEPTION_IN_REPEATER_PARAMETER:"line %2: Uncaught runtime exception in repeater parameter '%1'"},$onload:function(){aria.tools.contextual.environment.ContextualMenu.getContextualMenu().enabled||aria.core.AppEnvironment.$on({environmentChanged:f,scope:{}})},$prototype:{$width:undefined,
$height:undefined,$init:function(a,g){a.$BaseTemplate.constructor.classDefinition.$prototype.$init(a,g);var c=aria.templates.ITemplate.prototype,b;for(b in c)if(c.hasOwnProperty(b)&&!a.hasOwnProperty(b))a[b]=c[b];a.$modifier=aria.templates.Modifiers.callModifier;a.$json=aria.utils.Json},onModuleEvent:function(){},onFlowEvent:function(){},$dataReady:function(){},$viewReady:function(){},$displayReady:function(){}}})})();
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/TemplateCtxt.js
//YpwKgK3gnz
(function(){var h,j,m,k,l,n=["$refresh","$getChild","$getElementById","$focus","$hdim","$vdim","getContainerScroll","setContainerScroll","__$writeId","__$processWidgetMarkup","__$beginContainerWidget","$getId","__$endContainerWidget","__$statementOnEvent","__$statementRepeater","__$createView","__$beginSection","__$endSection","__$bindAutoRefresh"],o=["data","moduleCtrl","flowCtrl","moduleRes"],p={},q=function(a){var b=p[a];if(b==null){b=Aria.getClassRef(a);p[a]=b}b===undefined&&this.$logError(this.WIDGET_LIBRARY_NOT_FOUND,
[a,this.tplClasspath]);return b},r=0;Aria.classDefinition({$classpath:"aria.templates.TemplateCtxt",$dependencies:["aria.templates.Layout","aria.templates.CfgBeans","aria.utils.Array","aria.utils.Function","aria.utils.Type","aria.templates.TemplateCtxtManager","aria.templates.RefreshManager","aria.templates.CSSMgr","aria.utils.Path","aria.utils.Delegate","aria.templates.NavigationManager","aria.templates.SectionWrapper","aria.core.environment.Customizations","aria.templates.DomElementWrapper","aria.templates.MarkupWriter"],
$implements:["aria.templates.ITemplate","aria.templates.ITemplateCtxt"],$extends:"aria.templates.BaseCtxt",$onload:function(){h=aria.templates.Layout;j=aria.core.JsonValidator;m=aria.utils.Function;k=aria.utils.Type},$onunload:function(){k=m=j=h=null},$events:{Ready:{description:"Raised when the template content is fully displayed."}},$constructor:function(){this.$BaseCtxt.constructor.apply(this,arguments);this._differed=null;this._ready=false;this.__dataGround=null;this.__wrappers=[];this.__loadingOverlays=
[];this.__loadingOverlaysSection={};this._persistentStorage=this._cfg=null;this._globalCssDepsLoaded=false},$destructor:function(){aria.templates.TemplateCtxtManager.remove(this);if(this._cssClasses){aria.templates.CSSMgr.unloadDependencies(this);if(this._globalCssDepsLoaded){aria.templates.CSSMgr.unloadWidgetDependencies("aria.templates.Template",["aria.widgets.css."+aria.widgets.AriaSkinInterface.getSkinName()+".Global"]);this._globalCssDepsLoaded=false}this._cssClasses=null}if(this.__dataGround){aria.utils.Json.setValue(this.__dataGround,
"data",null);this.__dataGround=null}this.__disposeProcessingIndicators();this.__disposeWrappers();var a=this._tpl;if(a){try{this.flowCtrl&&this.flowCtrl.$unregisterListeners(a);this.moduleCtrl&&this.moduleCtrl.$removeListeners({"*":{fn:a.onModuleEvent,scope:a,firstOnly:true},beforeDispose:{fn:this._beforeModuleDispose,scope:this,firstOnly:true}})}catch(b){this.$logError(this.TEMPLATE_EXCEPTION_REMOVING_LISTENERS,[this.tplClasspath],b)}try{a.$dispose()}catch(c){this.$logError(this.TEMPLATE_DESTR_ERROR,
[this.tplClasspath],c)}a.__$write=null;for(var d=0,e;e=o[d];d++)delete a[e];for(d=0;e=n[d];d++)delete a[e];this._tpl=null}if(a=this._mainSection){a.$dispose();this._mainSection=null}if(a=this._cfg){if(d=a.tplDiv){this.__removeDebugInfo(d);a.tplDiv=null}if(a.div){if(k.isObject(a.width)||k.isObject(a.height))h.unregisterAutoresize(a.div);aria.utils.Dom.replaceHTML(a.div,"");a.div=null}if(a.toDispose){d=a.toDispose;for(e=d.length-1;e>=0;e--)d[e].$dispose();a.toDispose=null}a.data=null;this._cfg=a.macro=
null}this.flowCtrlPrivate=this.flowCtrl=this.moduleCtrlPrivate=this.moduleCtrl=this.moduleRes=this.data=null;this.$BaseCtxt.$destructor.call(this)},$statics:{WIDGET_LIBRARY_NOT_FOUND:"Error in template '%2': widget library '%1' was not found.",INVALID_STATE_FOR_REFRESH:"Error in template '%1': calling $refresh while the template is being refreshed is not allowed.",SECTION_OUTPUT_NOT_FOUND:"Error while refreshing template '%1': output section '%2' was not found.",VAR_NULL_OR_UNDEFINED:"Template %2 \nLine %1: expression is null or undefined.",
SECTION_BINDING_ERROR_SINGLE_VAR:"line %1: Cannot bind section to single variable except data. Binding must be something like container.parameter",SECTION_MACRO_MISUSED:"Template %1 \nline %2: section statement must either be a container or have a non-null macro property.",TEMPLATE_EXCEPTION_REMOVING_LISTENERS:"Error in template '%1' while removing module or flow listeners.",TEMPLATE_NOT_READY_FOR_REFRESH:"Error in template '%1': the $refresh method was called, but the template is not yet ready to be refreshed.",
FOCUS_FAILURE:"Focus failure: widget/element with id '%1' in '%2' does not exist or it is not yet ready for focus.",DATA_READY_EXCEPTION:"Error in template %1: an exception happened in $dataReady.",VIEW_READY_EXCEPTION:"Error in template %1: an exception happened in $viewReady.",DISPLAY_READY_EXCEPTION:"Error in template %1: an exception happened in $displayReady.",BEFORE_REFRESH_EXCEPTION:"Error in template %1: an exception happened in $beforeRefresh.",AFTER_REFRESH_EXCEPTION:"Error in template %1: an exception happened in $afterRefresh.",
ALREADY_REFRESHING:"$refresh was called while another refresh is happening on the same template (%1). This is not allowed. Please check bindings.",MISSING_MODULE_CTRL_FACTORY:"Template %1 cannot be initialized without aria.templates.ModuleCtrlFactory, make sure it is loaded"},$prototype:{dataReady:function(){try{this._tpl.$dataReady()}catch(a){this.$logError(this.DATA_READY_EXCEPTION,[this.tplClasspath],a)}},viewReady:function(){try{this._tpl.$viewReady()}catch(a){this.$logError(this.VIEW_READY_EXCEPTION,
[this.tplClasspath],a)}},displayReady:function(){try{this._tpl.$displayReady()}catch(a){this.$logError(this.DISPLAY_READY_EXCEPTION,[this.tplClasspath],a)}},beforeRefresh:function(a){if(this._tpl.$beforeRefresh)try{this._tpl.$beforeRefresh(a)}catch(b){this.$logError(this.BEFORE_REFRESH_EXCEPTION,[this.tplClasspath],b)}},afterRefresh:function(a){if(this._tpl.$afterRefresh)try{this._tpl.$afterRefresh(a)}catch(b){this.$logError(this.AFTER_REFRESH_EXCEPTION,[this.tplClasspath],b)}},$refresh:function(a){if(aria.templates.RefreshManager.isStopped()){if(a){var b=
a.outputSection||a.filterSection;if(b&&this._mainSection)if(b=this._mainSection.getSectionById(b)){b.notifyRefreshPlanned(a);return}}aria.templates.RefreshManager.queue({fn:this.$refresh,args:a,scope:this},this)}else if(this._cfg.tplDiv){this._refreshing&&this.$logError(this.ALREADY_REFRESHING,[this.tplClasspath]);this._refreshing=true;aria.templates.RefreshManager.stop();aria.templates.CSSMgr.stop();this.$assert(304,!!this._tpl);a={json:a,beanName:"aria.templates.CfgBeans.RefreshCfg"};j.normalize(a);
a=a.json;this.beforeRefresh(a);b=this.getRefreshedSection({filterSection:a.filterSection,outputSection:a.outputSection,macro:a.macro});this.__disposeProcessingIndicators(b);b&&!b.id&&this.__disposeWrappers();aria.templates.CSSMgr.resume();b!=null&&this.__insertSection(b);this.$assert(271,this._cfg.tplDiv&&this._tpl);aria.utils.Dom.refreshDomElt(this._cfg.tplDiv);this._refreshing=false;aria.templates.RefreshManager.resume();if(b!=null){this.afterRefresh(a);this.$raiseEvent({name:"SectionRefreshed",
sectionID:b.id})}}else this.$logError(this.TEMPLATE_NOT_READY_FOR_REFRESH,[this.tplClasspath])},getMarkup:function(a,b){this.$assert(299,this._cfg.tplDiv==null);this.$assert(301,this._mainSection==null);return this.getRefreshedSection({macro:a,filterSection:b,outputSection:null}).html},linkToPreviousMarkup:function(a){var b=this._cfg;this.$assert(320,a!=null);this.$assert(322,b.tplDiv==null);this.$assert(324,this._mainSection!=null);b.tplDiv=a;b.div=a.parentNode?a.parentNode:null;this.__addDebugInfo(a);
this.__insertSection(this._mainSection,true);this.afterRefresh();this.$raiseEvent({name:"SectionRefreshed",sectionID:null})},__addDebugInfo:function(a){if(a&&a.setAttribute){a.setAttribute("_template",this.tplClasspath);a.__template=this._tpl;a.__moduleCtrl=this.moduleCtrlPrivate?this.moduleCtrlPrivate:this.moduleCtrl;a.__data=this.data}},__removeDebugInfo:function(a){if(a){a.__data=null;a.__moduleCtrl=null;a.__template=null}},getRefreshedSection:function(a){var b={json:a,beanName:"aria.templates.CfgBeans.GetRefreshedSectionCfg"};
j.normalize(b);a=b.json;var c=a.outputSection,d=a.filterSection;if(c===undefined)c=d;b=null;if(c!=null){b=this._mainSection?this._mainSection.getSectionById(c):null;if(b==null){this.$logError(this.SECTION_OUTPUT_NOT_FOUND,[this.tplClasspath,c]);return null}b.beforeRefresh(a);b.stopListeners()}c=a.writerCallback;if(c==null)c={fn:this._callMacro,args:a.macro,scope:this};a=this.createSection(c,{filterSection:d,ownIdMap:b==null});if(a==null)return null;if(b==null){this._mainSection&&this._mainSection.$dispose();
this._mainSection=a}else if(d){b.copyConfigurationTo(a);d=b.parent;this.$assert(402,d!=null);b.$dispose();d.addSubSection(a)}else{b.removeContent();b.removeDelegateIdsAndCallbacks();a.moveContentTo(b);b.html=a.html;a.$dispose();a=b;a.resumeListeners()}return a},_setOut:function(a){this._out=a;for(var b=this._macrolibs,c=0,d=b.length;c<d;c++)b[c]._setOut(a)},insertAdjacentSections:function(a){var b=a.position;j.normalize({json:a,beanName:"aria.templates.CfgBeans.InsertAdjacentSectionsCfg"});var c=
this.createSection({fn:this.__dynamicSectionWriter,scope:this,args:a});aria.utils.Dom.insertAdjacentHTML(a.refSection.domElt,b,c.html);aria.utils.Dom.refreshDomElt(this._cfg.tplDiv);var d=a.refSection.object;if(b=="beforeBegin"||b=="afterEnd")d=d.parent;this.$assert(459,d);b=c.moveContentTo(d);c.$dispose();this.$assert(466,b);this.__processDifferedItems(b);for(c=0;c<a.sections.length;c++)this.afterRefresh({outputSection:a.sections[c].id})},__dynamicSectionWriter:function(a,b){for(var c=b.sections,
d=0,e=c.length;d<e;d++){this.__$beginSection(null,false,c[d]);this.__$endSection()}},createSection:function(a,b){if(this._out!=null){this.$logError(this.INVALID_STATE_FOR_REFRESH,[this.tplClasspath]);return null}var c=new aria.templates.MarkupWriter(this,b),d=null;this._setOut(c);this.$callback(a,c);d=c.getSection();c.$dispose();this._setOut(null);return d},__insertSection:function(a,b){var c,d=this._cfg;c=this._tpl;if(d=!a.id?d.tplDiv:aria.utils.Dom.getElementById(this.$getId(a.id))){b||(d=aria.utils.Dom.replaceHTML(d,
a.html));a.id||h.setDivSize(d,c.$width,c.$height,"hidden");aria.utils.Delegate.addExpando(d,a.delegateId);c=a.initWidgets();this.__processDifferedItems(c)}},__processDifferedItems:function(a){if(a.length>0){for(var b=0,c=a.length;b<c;b++)a[b].$onOnce({ElementReady:this.__checkContextReadyCb,scope:this});this._differed=a}else this.__checkContextReadyCb()},__checkContextReadyCb:function(a){if(a){a=a.src;var b=this._differed;b&&aria.utils.Array.remove(b,a)}if(!b||!b.length){this._differed=null;this._ready=
true;this.displayReady();this.$raiseEvent("Ready")}},__$processWidgetMarkup:function(a,b,c,d){var e=this._out;if(e.sectionState==e.SECTION_KEEP)(a=q.call(this,a))&&a.processWidgetMarkup(b,e,c,d)},__$beginContainerWidget:function(a,b,c,d){var e=this._out;if(e.sectionState==e.SECTION_SKIP)return false;e.skipContent=false;a=q.call(this,a);if(!a)return false;b=a.processWidgetMarkupBegin(b,e,c,d);if(e.skipContent||b==null){b&&b.writeMarkupEnd(e);return false}else{e.addToCtrlStack(b);return true}},__$endContainerWidget:function(){var a=
this._out;a.removeFromCtrlStack().writeMarkupEnd(a)},__$statementOnEvent:function(a,b){this._out.pushDelegate(a,b)},__$statementRepeater:function(a,b){this._out.repeater(b)},initTemplate:function(a){if(!j.normalize({json:a,beanName:"aria.templates.CfgBeans.InitTemplateCfg"}))return false;this._out=null;this._cfg=a;if(a.id)this._id=a.id;else{this._id="tpl"+r;r++}this.tplClasspath=a.classpath;var b;try{b=Aria.getClassInstance(a.classpath)}catch(c){this.$logError(this.TEMPLATE_CONSTR_ERROR,[a.classpath],
c);return false}this._tpl=b;if(a.macro==null)a.macro={name:"main",args:a.args,scope:b};a.macro=this.checkMacro(a.macro);var d=a.context,e=a.moduleCtrl,f=a.data,g,i;if(d&&!e){if(!f)f=d.data;e=d.moduleCtrl}if(e)if(aria.templates.ModuleCtrlFactory){l||(l=aria.templates.ModuleCtrlFactory.__getModulePrivateInfoMethod());g=l.call(this,e);if(!g)return false;i=g.moduleCtrlPrivate;if(f){if(d){d=i.getSubModuleCtrl(f);if(d!=e){e=d;g=l.call(this,e);if(!g)return false;i=g.moduleCtrlPrivate}}}else f=i.getData()}else this.$logError(this.MISSING_MODULE_CTRL_FACTORY,
[a.classpath]);this.data=f;this.moduleCtrl=e;if(g){this.flowCtrl=g.flowCtrl;this.flowCtrlPrivate=g.flowCtrlPrivate;this.moduleCtrlPrivate=i;this.moduleRes=i.getResourceSet()}a.data=f;a.moduleCtrl=e;aria.templates.TemplateCtxtManager.add(this);if(this.data!=null)this.__dataGround={data:this.data};var s=this;for(e=0;f=o[e];e++)b[f]=this[f];for(e=0;f=n[e];e++)b[f]=m.bind(this[f],this);b.__$write=function(t,u){return s.__$write(t,u)};this.moduleCtrl&&this.moduleCtrl.$on({"*":{fn:b.onModuleEvent,scope:b},
beforeDispose:{fn:this._beforeModuleDispose,scope:this}});this.flowCtrl&&this.flowCtrl.$on({"*":b.onFlowEvent,scope:b});this._width={};this._height={};this.$setViewportWidth(h.realWidth(a.width));this.$setViewportHeight(h.realHeight(a.height));this.$setSizeCfg(b.__$width,b.__$height);this.__addDebugInfo(a.tplDiv);a=b.__$initTemplate();this.__loadMacrolibs(b.__$macrolibs);return a},__$beginSection:function(a,b,c,d){if(aria.utils.Type.isString(c)){c={id:c};if(d)c.type=d}if(b===(c!=null&&c.macro!=null)){this.$logError(this.SECTION_MACRO_MISUSED,
[this.tplClasspath,a]);if(b)c.macro=null}this._out.beginSection(c)},__$endSection:function(){return this._out.endSection()},__$write:function(a,b){if(a===undefined||a===null)this.$logWarn(this.VAR_NULL_OR_UNDEFINED,[b,this.tplClasspath]);return this._out.write(a)},$hdim:function(a,b,c){return h.getSODim(this._width,a,b,c)},$vdim:function(a,b,c){return h.getSODim(this._height,a,b,c)},getContainerDiv:function(){if(this._cfg&&this._cfg.div)return this._cfg.div;return null},$setViewportWidth:function(a){var b=
this._width;h.setSOViewport(b,a);if(this._tpl.$width!=b.value){this._tpl.$width=b.value;return true}return false},$setViewportHeight:function(a){var b=this._height;h.setSOViewport(b,a);if(this._tpl.$height!=b.value){this._tpl.$height=b.value;return true}return false},$setSizeCfg:function(a,b){a&&h.setSOSizeCfg(this._width,a);this._tpl.$width=this._width.value;b&&h.setSOSizeCfg(this._height,b);this._tpl.$height=this._height.value},evalCallback:function(a,b,c){return this._tpl.$callback(a,b,c)},$getId:function(a){return[this._id,
a].join("_")},createId:function(a){this.$logWarn("createId is deprecated. Please use $getId instead.");return this.$getId(a)},__$writeId:function(a){this._out.write('id="'+this._out.tplCtxt.$getId(a)+'"')},$getElementById:function(a){var b=this.$getId(a);b=aria.utils.Dom.getElementById(b);if(!b)return null;a=(a=this._mainSection.getSectionById(a))?new aria.templates.SectionWrapper(b,a):new aria.templates.DomElementWrapper(b,this);this.__wrappers&&this.__wrappers.push(a);return a},$getChild:function(a,
b){var c=aria.utils.Dom,d=this.$getId(a);if(d=c.getElementById(d))var e=c.getDomElementChild(d,b);if(e){c=new aria.templates.DomElementWrapper(e,this);this.__wrappers&&this.__wrappers.push(c);return c}return null},getBehaviorById:function(a){if(this._mainSection==null)return null;return this._mainSection.getBehaviorById(a)},getPersistentStorage:function(){var a=this._persistentStorage;if(a==null){if(this.data){a=this.data[Aria.FRAMEWORK_PREFIX+"persist::"+this.tplClasspath];if(a==null){a={};this.data[Aria.FRAMEWORK_PREFIX+
"persist::"+this.tplClasspath]=a}}else a={};this._persistentStorage=a}return a},$focus:function(a){var b=false,c=this.getBehaviorById(a);if(c&&typeof c.focus!="undefined"){c.focus();b=true}if(!b){c=this.$getId(a);if(c=aria.utils.Dom.getElementById(c)){c.focus();b=true}}b||this.$logError(this.FOCUS_FAILURE,[a,this.tplClasspath])},$focusFromParent:function(){if(this._tpl.$focusFromParent)return this._tpl.$focusFromParent();else{var a=aria.utils.Dom.getElementById(this._id);return aria.templates.NavigationManager.focusFirst(a)}},
__$createView:function(a,b,c){var d=this.getPersistentStorage();b.unshift(a);for(var e=b.length,f=d,g,i=0;i<e-1;i++){g=b[i];f[g]||(f[g]=[]);f=f[g]}g=b[e-1];if(f[g]){f=f[g];f.initialArray=c}else{f[g]=new aria.templates.View(c);f=f[g]}f.refresh();return d[a]},isReady:function(){return this._ready},_beforeModuleDispose:function(a){a=a.reloadingObject;var b=this._getReloadCfg(),c=a&&this.moduleCtrl.getData()==b.data;Aria.disposeTemplate(b.div);if(a){var d=this;a.$on({scope:{},objectLoaded:function(e){b.moduleCtrl=
e.object;if(c)b.data=e.object.getData();d._callLoadTemplate(b)}})}},_getReloadCfg:function(){var a={classpath:this._cfg.origClasspath?this._cfg.origClasspath:this._cfg.classpath,width:this._cfg.width,height:this._cfg.height,printOptions:this._cfg.printOptions,div:this.getContainerDiv(),data:this._cfg.data,moduleCtrl:this.moduleCtrlPrivate,provideContext:true,args:this._cfg.args};this._cfg.toDispose=[];return a},_callLoadTemplate:function(a,b){var c=a.div;if(aria.utils.Dom.isInDom(c)){var d=c.__widget;
Aria.loadTemplate(a,function(e){if(e.success&&d){var f=e.tplCtxt,g=aria.templates.TemplateCtxtManager;g.remove(f);e.tplCtxt._cfg.isRootTemplate=false;g.add(f);d.subTplCtxt=f}b!=null&&this.$callback(b)})}else this.$callback(b)},$reload:function(a,b){var c=this._getReloadCfg();a&&aria.templates.TemplateManager.$onOnce({unloadTemplate:{fn:function(){var d=c.classpath.replace(/\./g,"/")+".tpl";d=aria.core.Cache.getItem("files",d,true);d.status=3;d.value=a},scope:this}});c.reload=true;c.reloadByPassCache=
true;Aria.disposeTemplate(c.div)?this._callLoadTemplate(c,b):this.$logError("Could not reload template: "+c.classpath)},__$bindAutoRefresh:function(a,b,c){if(this._out._currentSection){var d={inside:a,to:b};if(b===null)if(a==this.data){d.inside=this.__dataGround;d.to="data"}else this.$logError(this.SECTION_BINDING_ERROR_SINGLE_VAR,[c]);this._out._currentSection.registerBinding(d)}},getCSSDependencies:function(){var a;if(this._tpl)a=this._tpl.$css;if(a==null)a=[];return a},getCSSClassNames:function(a){var b=
this._cssClasses;if(!b){if(this._cfg.isRootTemplate){aria.templates.CSSMgr.loadWidgetDependencies("aria.templates.Template",["aria.widgets.css."+aria.widgets.AriaSkinInterface.getSkinName()+".Global"]);this._globalCssDepsLoaded=true}this._cssClasses=b=aria.templates.CSSMgr.loadDependencies(this)}if(a)return b.join(" ");a=["xTplContent"];if(b.length)a=a.concat(b);return aria.core.TplClassLoader.addPrintOptions(a.join(" "),this._cfg.printOptions)},registerProcessingIndicator:function(a,b,c){this.$assert(1200,
b!=null);if(a)if(c)this.__loadingOverlaysSection[c]=b;else this.__loadingOverlays.push(b);else if(c)delete this.__loadingOverlaysSection[c];else aria.utils.Array.remove(this.__loadingOverlays,b)},refreshProcessingIndicator:function(){this._mainSection&&this._mainSection.refreshProcessingIndicator(true)},__disposeProcessingIndicators:function(a){var b=aria.utils.DomOverlay;b.disposeOverlays(this.__loadingOverlays);this.__loadingOverlays=[];if(!a||a.isRoot){b.disposeOverlays(aria.utils.Array.extractValuesFromMap(this.__loadingOverlaysSection));
this.__loadingOverlaysSection={}}else{b.disposeOverlays([this.__loadingOverlaysSection[a.id]]);delete this.__loadingOverlaysSection[a.id]}},__disposeWrappers:function(){for(var a=this.__wrappers.length;a--;){this.__wrappers[a].$dispose();this.__wrappers.splice(a,1)}},getContainerScroll:function(){var a=null,b=this.getContainerDiv();if(b)a={scrollLeft:b.scrollLeft,scrollTop:b.scrollTop};return a},setContainerScroll:function(a){var b=this.getContainerDiv();if(b&&a){if(a.hasOwnProperty("scrollLeft")&&
a.scrollLeft!=null)b.scrollLeft=a.scrollLeft;if(a.hasOwnProperty("scrollTop")&&a.scrollTop!=null)b.scrollTop=a.scrollTop}}}})})();
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/TemplateCtxtManager.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.TemplateCtxtManager",$extends:"aria.utils.Store",$dependencies:["aria.utils.Array","aria.utils.AriaWindow"],$singleton:true,$constructor:function(){this.$Store.constructor.call(this);this._rootTemplateContexts=[];Aria.rootTemplates=this._rootTemplateContexts;aria.utils.AriaWindow.$on({unloadWindow:this._unloadWindow,scope:this})},$destructor:function(){Aria.rootTemplates=this._templateContexts=null;aria.utils.AriaWindow.$unregisterListeners(this);this.$Store.$destructor.call(this)},
$prototype:{_unloadWindow:function(){for(var a=Aria.rootTemplates,b=a.length-1;b>=0;b--)a[b].$dispose()},add:function(a){if(a._cfg&&a._cfg.isRootTemplate){this._rootTemplateContexts.push(a);aria.utils.AriaWindow.attachWindow()}this.$Store.add.call(this,a)},remove:function(a){a._cfg&&a._cfg.isRootTemplate&&aria.utils.Array.remove(this._rootTemplateContexts,a)&&aria.utils.AriaWindow.detachWindow();return this.$Store.remove.call(this,a)},getFromDom:function(a){return this.getMatch(function(b){return a==
b.getContainerDiv()})},disposeFromDom:function(a){var b=this.removeMatch(function(c){return a==c.getContainerDiv()});if(b){b.$dispose();return true}return false},getRootCtxts:function(){return this._rootTemplateContexts}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/TemplateManager.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.TemplateManager",$singleton:true,$events:{unloadTemplate:{description:"raised when unloadTemplate is finished"}},$prototype:{unloadTemplate:function(b,c){var d=aria.core.ClassMgr,a=b+"Script";if(Aria.nspace(a,false)||aria.core.Cache.getItem("classes",a))d.unloadClass(a,c);a=Aria.$classDefinitions[b];!Aria.nspace(b,false)&&a&&aria.templates.CSSMgr.unregisterDependencies(b,a.$css,true,c);d.unloadClass(b,c);this.$raiseEvent("unloadTemplate")}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/TemplateTrait.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.TemplateTrait",$constructor:function(){},$prototype:{_onModuleCtrlLoad:function(){var a=this._tplcfg;if(a)if(this._needCreatingModuleCtrl){a=this._cfg.moduleCtrl;aria.templates.ModuleCtrlFactory.createModuleCtrl(a,{fn:this._onTplLoad,scope:this,args:{autoDispose:a.autoDispose}})}else this._onTplLoad({moduleCtrl:a.moduleCtrl},{autoDispose:false})},__innerTplReadyCb:function(){this.subTplCtxt.viewReady();this.$raiseEvent("ElementReady");this.isDiffered=
false},focus:function(a){if(this.subTplCtxt)return this.subTplCtxt.$focusFromParent();else{this.$onOnce({ElementReady:function(){this.subTplCtxt.$focusFromParent()==false&&a&&this.$callback(a)},scope:this});return true}}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/TmlClassGenerator.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.TmlClassGenerator",$extends:"aria.templates.ClassGenerator",$singleton:true,$dependencies:["aria.templates.TplParser","aria.templates.TplClassGenerator"],$constructor:function(){this.$ClassGenerator.constructor.call(this);this._loadStatements(["Library","id","on","createView","macro","call","section","checkDefault","@","bindRefreshTo","repeater"]);this._parser=aria.templates.TplParser;this._superClass="aria.templates.Template";this._classType="TML";
this._rootStatement="Library";this._templateParamBean="aria.templates.CfgBeans.LibraryCfg"},$prototype:{$init:function(a){a._processTemplateContent=aria.templates.TplClassGenerator._processTemplateContent},_writeClassInit:function(a){a.enterBlock("classInit");this._writeMapInheritance(a,"__$macrolibs",a.templateParam.$macrolibs,"{}");a.leaveBlock();this.$ClassGenerator._writeClassInit.call(this,a)}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/TplClassGenerator.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.TplClassGenerator",$extends:"aria.templates.ClassGenerator",$singleton:true,$dependencies:["aria.templates.TplParser","aria.widgetLibs.environment.WidgetLibsSettings"],$constructor:function(){this.$ClassGenerator.constructor.call(this);this._loadStatements(["Template","id","on","createView","macro","call","section","checkDefault","@","bindRefreshTo","repeater"]);this._parser=aria.templates.TplParser;this._superClass="aria.templates.Template";this._classType=
"TPL";this._rootStatement="Template";this._templateParamBean="aria.templates.CfgBeans.TemplateCfg"},$prototype:{_writeClassInit:function(a){var c=a.templateParam;a.enterBlock("classInit");this._writeMapInheritance(a,"__$macrolibs",a.templateParam.$macrolibs,"{}");this._writeValueInheritance(a,"__$width",c.$width,"{}");this._writeValueInheritance(a,"__$height",c.$height,"{}");a.leaveBlock();this.$ClassGenerator._writeClassInit.call(this,a)},_processTemplateContent:function(a){var c=a.out,d=c.templateParam.$wlibs,
f=[],e=aria.widgetLibs.environment.WidgetLibsSettings.getWidgetLibs(),b;for(b in e)if(e.hasOwnProperty(b))if(d[b]==null)d[b]=e[b];for(b in d)if(d.hasOwnProperty(b)){c.allDependencies&&c.addDependency(d[b]);f.push(d[b])}Aria.load({classes:f,oncomplete:{fn:this.$ClassGenerator._processTemplateContent,scope:this,args:a}})}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/TplParser.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.TplParser",$extends:"aria.templates.Parser",$singleton:true,$constructor:function(){this.$Parser.constructor.apply(this,arguments)},$prototype:{parseTemplate:function(a,b){this.context=b;this._prepare(a);this._computeLineNumbers();return this._buildTree()}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/TreeBeans.js
//YpwKgK3gnz
Aria.beanDefinitions({$package:"aria.templates.TreeBeans",$description:"Definition of the tree structure generated by the parser when processing a template.",$namespaces:{json:"aria.core.JsonTypes"},$beans:{Root:{$type:"Statement",$description:"Root node of a template tree. It is a special node that does not appear in the template and contains top-level template elements.",$mandatory:true,$properties:{name:{$type:"Statement.name",$regExp:/^#ROOT#$/},content:{$type:"Statement.content",$mandatory:true},
parent:{$type:"Statement.parent",$description:"Parent element: is null for the root statement.",$mandatory:false}}},Statement:{$type:"json:Object",$description:"Template statement. Everything inside a template is represented as a statement in this tree.",$properties:{name:{$type:"json:String",$description:"Name of the statement. It can be one of the special types '#ROOT#', '#TEXT#' and '#EXPRESSION#', or the name of the statement, like 'if' or '@aria:TextField'.",$mandatory:true},lineNumber:{$type:"json:Integer",
$description:"Line number corresponding to firstCharParamIndex.",$mandatory:true},parent:{$type:"json:ObjectRef",$description:"Link to the parent statement, or null if it is the root statement.",$mandatory:true},content:{$type:"json:Array",$mandatory:false,$description:"Content of the statement, as an array of statements. It is undefined if the statement was not used as a container. It is always undefined for types 'text ' and 'dollar ', and always defined for type 'root '.",$contentType:{$type:"Statement",
$mandatory:true}},firstCharContentIndex:{$type:"json:Integer",$description:"Position of the first character which was parsed into the 'content' field of the statement, in the prepared template string (with original comments and some spaces removed). It is not a mandatory field, so class generation does not rely on it (or only for error reporting).",$minValue:0,$mandatory:false},lastCharContentIndex:{$type:"json:Integer",$description:"Position of the last character which was parsed into the 'content' field of the statement, in the prepared template string (with original comments and some spaces removed). It is not a mandatory field, so class generation does not rely on it (or only for error reporting).",
$minValue:0,$mandatory:false},paramBlock:{$type:"json:String",$description:"Statement parameter, with new lines at the begining and end removed.",$mandatory:true},firstCharParamIndex:{$type:"json:Integer",$description:"Position of the first character of the statement parameter inside the prepared template string (with original comments and some spaces removed). It is not a mandatory field, so class generation does not rely on it (or only for error reporting).",$minValue:0,$mandatory:false},lastCharParamIndex:{$type:"json:Integer",
$description:"Position of the last character of the statement parameter inside the prepared template string (with original comments and some spaces removed). It is not a mandatory field, so class generation does not rely on it (or only for error reporting).",$minValue:0,$mandatory:false}}}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/TxtClassGenerator.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.TxtClassGenerator",$extends:"aria.templates.ClassGenerator",$singleton:true,$dependencies:["aria.templates.TxtParser"],$constructor:function(){this.$ClassGenerator.constructor.call(this);this._loadStatements(["TextTemplate","macro","call"]);this._parser=aria.templates.TxtParser;this._superClass="aria.templates.TextTemplate";this._classType="TXT";this._rootStatement="TextTemplate";this._templateParamBean="aria.templates.CfgBeans.TextTemplateCfg"},$prototype:{_writeClassInit:function(a){a.enterBlock("classInit");
a.writeln(a.templateParam.$classpath,".processTextTemplate = aria.templates.TextTemplate.processTextTemplate;");a.leaveBlock();this.$ClassGenerator._writeClassInit.call(this,a)}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/TxtParser.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.templates.TxtParser",$extends:"aria.templates.Parser",$singleton:true,$constructor:function(){this.$Parser.constructor.apply(this,arguments);this._keepWhiteSpace=true},$prototype:{parseTemplate:function(a,b){this.context=b;this._prepare(a);this._computeLineNumbers();return this._buildTree()}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/templates/View.js
//YpwKgK3gnz
(function(){var l=function(a,c){if(a.sortKey==c.sortKey)return 0;return a.sortKey>c.sortKey?1:-1},m=function(a,c){if(a.sortKey==c.sortKey)return 0;return a.sortKey>c.sortKey?-1:1},n=function(a,c){return a.value[c.propertyName]},i;Aria.classDefinition({$classpath:"aria.templates.View",$dependencies:["aria.utils.Json","aria.utils.StackHashMap","aria.utils.Type"],$onload:function(){i=aria.utils.Json},$onunload:function(){i=null},$constructor:function(a){if(aria.utils.Type.isObject(a)||aria.utils.Type.isArray(a)){this.initialArray=
a;this.sortOrder=this.SORT_INITIAL;this.sortKeyGetter=this.sortName=null;this.items=[];this.filteredInCount=0;this.pageSize=-1;this.pageMode=false;this.currentPageIndex=0;this.pages=this.EMPTY_PAGES;this._currentState={initialArray:null,sortOrder:this.sortOrder,sortName:this.sortName,sortKeyGetter:this.sortKeyGetter,pageSize:this.pageSize,currentPageIndex:this.currentPageIndex};this._changes=0;this._jsonChangeCallback={fn:this._notifyDataChange,scope:this};this._refreshInitialArray()}else this.$logError(this.INVALID_TYPE_OF_ARGUMENT)},
$destructor:function(){if(this.items){this._removeListenersOnItems(this.items);this.items=null}this.pages=this.initialArray=this._jsonChangeCallback=null},$statics:{SORT_INITIAL:"I",SORT_ASCENDING:"A",SORT_DESCENDING:"D",FILTER_SET:0,FILTER_ADD:1,FILTER_REMOVE:2,CHANGED_INITIAL_ARRAY:1,CHANGED_SORT_CRITERIA:2,_CHANGED_FILTERED_IN:4,_CHANGED_PAGE_DATA:8,EMPTY_PAGES:[{pageIndex:0,pageNumber:1,firstItemIndex:0,lastItemIndex:-1,firstItemNumber:0,lastItemNumber:0}],INVALID_TYPE_OF_ARGUMENT:"Invalid type: a View can be created on Arrays or Objects",
propertySorter:function(a){return{scope:this,fn:n,args:{propertyName:a}}}},$prototype:{notifyChange:function(a){this._changes|=a},refresh:function(a){a&&this.notifyChange(a);a=this._currentState;this._refreshInitialArray();this.$assert(156,a.initialArray==this.initialArray);if(this.sortOrder==this.SORT_INITIAL){a.sortOrder!=this.SORT_INITIAL&&this._resetSortOrder();this.sortKeyGetter=this.sortName=null}else if(a.sortKeyGetter!=this.sortKeyGetter||a.sortName!=this.sortName||this._changes&this.CHANGED_SORT_CRITERIA)this._sort();
else if(this.sortOrder!=a.sortOrder){this.$assert(167,this.sortOrder!=this.SORT_INITIAL&&a.sortKeyGetter==this.sortKeyGetter&&a.sortName==this.sortName&&!(this._changes&this.CHANGED_SORT_CRITERIA));this.items.reverse();a.sortOrder=this.sortOrder;this._changes|=this._CHANGED_PAGE_DATA}this.$assert(176,this.sortOrder==a.sortOrder);this.$assert(177,this.sortKeyGetter==a.sortKeyGetter);this.$assert(178,this.sortName==a.sortName);if(a.pageSize!=this.pageSize||this._changes&(this._CHANGED_PAGE_DATA|this._CHANGED_FILTERED_IN))this._refreshPageData();
this.$assert(181,this.pageSize==a.pageSize);if(this.pageMode){this.$assert(194,this.pages.length>=0);if(this.currentPageIndex<0)this.currentPageIndex=0;else if(this.currentPageIndex>=this.pages.length)this.currentPageIndex=this.pages.length-1}else this.currentPageIndex=0;a.currentPageIndex=this.currentPageIndex;this._changes=0},_notifyDataChange:function(){this._changes|=this._CHANGED_FILTERED_IN},_removeListenersOnItems:function(a){for(var c=a.length,b=0;b<c;b++)i.removeListener(a[b],"filteredIn",
this._jsonChangeCallback)},_refreshInitialArray:function(){var a=this._currentState,c=this.initialArray,b;if(!(a.initialArray==c&&!(this._changes&this.CHANGED_INITIAL_ARRAY))){if(a.initialArray){b=new aria.utils.StackHashMap;for(var d=this.items,h=d.length,e,f=0;f<h;f++){e=d[f];b.push(e.value,e)}}d=aria.utils.Type.isObject(c)?this._getItemsFromMap(b):this._getItemsFromArray(b);if(b){this._removeListenersOnItems(b.removeAll());b.$dispose()}this.items=d.items;b=d.filteredOutElements;d=this.items.length;
a.initialArray=c;a.sortOrder=this.SORT_INITIAL;a.sortName=null;a.sortKeyGetter=null;a.pageSize=-1;this.filteredInCount=d-b;this.pages=[{pageIndex:0,pageNumber:1,firstItemIndex:0,lastItemIndex:d-1,firstItemNumber:d>0?1:0,lastItemNumber:this.filteredInCount}];this._changes&=!this.CHANGED_INITIAL_ARRAY}},_getItemsFromArray:function(a){for(var c=this.initialArray,b=[],d=0,h=c.length,e=0;e<h;e++){var f=c[e],g=null;if(a)g=a.pop(f);if(g==null){g={value:f,initIndex:e,filteredIn:true,sortKey:null,pageIndex:0};
i.addListener(g,"filteredIn",this._jsonChangeCallback,true)}else g.pageIndex=0;b[e]=g;g.filteredIn||d++}return{items:b,filteredOutElements:d}},_getItemsFromMap:function(a){var c=0,b=[],d=0,h=this.initialArray,e;for(e in h)if(h.hasOwnProperty(e)&&!i.isMetadata(e)){var f=h[e],g=null;if(a)g=a.pop(f);if(g==null){g={value:f,initIndex:e,filteredIn:true,sortKey:null,pageIndex:0};i.addListener(g,"filteredIn",this._jsonChangeCallback,true)}else g.pageIndex=0;b[c]=g;g.filteredIn||d++;c++}return{items:b,filteredOutElements:d}},
_resetSortOrder:function(){var a=this.items,c=a.length,b=[],d=this.initialArray;if(aria.utils.Type.isObject(d)){for(var h=new aria.utils.StackHashMap,e,f=0;f<c;f++){e=a[f];h.push(e.value,e)}a=0;for(var g in d)if(d.hasOwnProperty(g)&&!i.isMetadata(g)){b[a]=h.pop(d[g]);a++}h.$dispose()}else for(f=0;f<c;f++){d=a[f];b[d.initIndex]=d;delete a[f]}this.items=b;b=this._currentState;b.sortOrder=this.SORT_INITIAL;b.sortName=null;b.sortKeyGetter=null;this._changes|=this._CHANGED_PAGE_DATA},_sort:function(){for(var a=
this.sortKeyGetter,c=this.items,b=c.length,d=0;d<b;d++){var h=c[d];h.sortKey=a.fn.call(a.scope,h,a.args)}c.sort(this.sortOrder==this.SORT_ASCENDING?l:m);a=this._currentState;a.sortKeyGetter=this.sortKeyGetter;a.sortOrder=this.sortOrder;a.sortName=this.sortName;this._changes|=this._CHANGED_PAGE_DATA},_refreshPageData:function(){var a=this.items,c=a.length,b=this.pageSize;if(b<=0)b=-1;for(var d=[],h=0,e=0,f=0,g=-1,j=0;j<c;j++){var k=a[j];if(k.filteredIn){if(f===0)g=j;f++;k.pageIndex=e;if(f==b){d[h++]=
{pageIndex:e,pageNumber:e+1,firstItemIndex:g,lastItemIndex:j,firstItemNumber:e*b+1,lastItemNumber:(e+1)*b};e++;f=0}}else k.pageIndex=-1}this._currentState.pageSize=b;this.pageMode=b>0;this.filteredInCount=e*b+f;if(f>0)d[h++]={pageIndex:e,pageNumber:e+1,firstItemIndex:g,lastItemIndex:c-1,firstItemNumber:e*b+1,lastItemNumber:this.filteredInCount};if(h===0)d=this.EMPTY_PAGES;this.pages=d},allFilteredIn:function(a){if(a==null)a=true;this._refreshInitialArray();for(var c=this.items,b=c.length,d=0;d<b;d++)i.setValue(c[d],
"filteredIn",a,this._jsonChangeCallback);this.notifyChange(this._CHANGED_FILTERED_IN)},allFilteredOut:function(a){if(a==null)a=true;this.allFilteredIn(!a)},toggleSortOrder:function(a,c){this.$assert(326,a!=null&&c!=null);if(this.sortOrder!=this.SORT_INITIAL&&this.sortName==a)if(this.sortOrder==this.SORT_ASCENDING)this.sortOrder=this.SORT_DESCENDING;else{this.$assert(330,this.sortOrder==this.SORT_DESCENDING);this.sortOrder=this.SORT_ASCENDING;this.sortName=a;this.sortKeyGetter=this.$normCallback(c)}else{this.sortName=
a;this.sortKeyGetter=this.$normCallback(c);this.sortOrder=this.SORT_ASCENDING}},setPageSize:function(a){this.pageSize=a;this.refresh()},setCurrentPageIndex:function(a){this.currentPageIndex=a;this.refresh()},setSort:function(a,c,b){this.sortOrder=a;this.sortName=c;this.sortKeyGetter=this.$normCallback(b);this.refresh()},filterIn:function(a,c){c=this.$normCallback(c);var b=c.fn,d=c.scope;this._refreshInitialArray();for(var h=this.items,e=h.length,f=0;f<e;f++){var g=h[f],j=g.filteredIn;if(a==this.FILTER_SET||
j===(a==this.FILTER_REMOVE)){j=b.call(d,g,c.args);i.setValue(g,"filteredIn",j)}}},getNewIndex:function(a,c){for(var b=0,d=a.length;b<d;b+=1)if(a[b].initIndex==c)return b}}})})();
//YpwKgK3gnz
//LOGICAL-PATH:aria/widgetLibs/BaseWidget.js
//YpwKgK3gnz
(function(){var d=null,e=null,f=function(a,b){if(a._context){b||(b=[]);b.unshift("Template: "+a._context.tplClasspath+", Line: "+a._lineNumber+"\n")}return b};Aria.classDefinition({$classpath:"aria.widgetLibs.BaseWidget",$dependencies:["aria.utils.IdManager","aria.templates.CSSMgr"],$onload:function(){d=new aria.utils.IdManager("w");e=aria.utils.Array},$onunload:function(){d.$dispose();e=d=null},$constructor:function(a,b,c){this._cfg=a;this._context=b;this._lineNumber=c;this._dynamicIds=null;aria.templates.CSSMgr.loadWidgetDependencies(this.$classpath,
this.$css);this.__cssLoaded=true},$destructor:function(){this._releaseAllDynamicIds();if(this.__cssLoaded){aria.templates.CSSMgr.unloadWidgetDependencies(this.$classpath,this.$css);this.__cssLoaded=false}else this.$logError(this.WIDGET_DISPOSED_TWICE);this._cfg=this._context=null},$statics:{WIDGET_CONTAINER_ONLY:"%1This widget must be used as a container.",WIDGET_NOT_CONTAINER:"%1This widget cannot be used as a container.",WIDGET_DISPOSED_TWICE:"This widget was disposed twice."},$prototype:{writeMarkup:function(){this.$logError(this.WIDGET_CONTAINER_ONLY)},
writeMarkupBegin:function(){this.$logError(this.WIDGET_NOT_CONTAINER)},getDom:function(){return null},$logError:function(a,b,c){this.$JsObject.$logError.call(this,a,f(this,b),c)},$logWarn:function(a,b,c){this.$JsObject.$logWarn.call(this,a,f(this,b),c)},$logInfo:function(a,b,c){this.$JsObject.$logInfo.call(this,a,f(this,b),c)},$logDebug:function(a,b,c){this.$JsObject.$logDebug.call(this,a,f(this,b),c)},writeMarkupEnd:function(){},initWidget:function(){},_createDynamicId:function(){var a=d.getId();
if(this._dynamicIds)this._dynamicIds.push(a);else this._dynamicIds=[a];return a},_releaseDynamicId:function(a){var b=this._dynamicIds;if(b){var c=e.indexOf(b,a);if(c!=-1){d.releaseId(a);if(b.length==1)this._dynamicIds=null;else e.removeAt(b,c)}}},_releaseAllDynamicIds:function(){var a=this._dynamicIds;if(a){for(var b=a.length-1;b>=0;b--)d.releaseId(a[b]);this._dynamicIds=null}}}})})();
//YpwKgK3gnz
//LOGICAL-PATH:aria/widgetLibs/BindableWidget.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.widgetLibs.BindableWidget",$extends:"aria.widgetLibs.BaseWidget",$statics:{INVALID_BEAN:"Invalid propety '%1' in widget's '%2' configuration."},$dependencies:["aria.utils.Json","aria.utils.Type"],$constructor:function(a,d,c){this.$BaseWidget.constructor.call(this,a,d,c);this._bindingListeners={}},$destructor:function(){var a=this._bindingListeners,d=aria.utils.Json,c;for(c in a)if(a.hasOwnProperty(c)){var b=a[c];d.removeListener(b.inside,b.to,b.cb)}this._bindingListeners=
null;this.$BaseWidget.$destructor.call(this)},$prototype:{_registerBindings:function(){var a=this._cfg.bind,d=aria.utils.Json;if(a)for(var c in a)if(a.hasOwnProperty(c)){var b=a[c];if(b){var e={fn:this._notifyDataChange,scope:this,args:c};try{d.addListener(b.inside,b.to,e,true);this._bindingListeners[c]={inside:b.inside,to:b.to,transform:b.transform,cb:e};var f=this._transform(b.transform,b.inside[b.to],"toWidget");this.setWidgetProperty(c,f)}catch(g){this.$logError(this.INVALID_BEAN,[c,"bind"])}}}},
_notifyDataChange:Aria.empty,setWidgetProperty:Aria.empty,_transform:function(a,d,c){if(a){var b=false,e=aria.utils.Type;if(e.isString(a)&&a.indexOf(".")!=-1){a=Aria.getClassInstance(a);b=true}if(a[c])d=this.evalCallback(a[c],d);else if(e.isFunction(a))d=this.evalCallback(a,d);b&&a.$dispose()}return d},evalCallback:function(a,d){return this._context.evalCallback(a,d)}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/widgetLibs/CommonBeans.js
//YpwKgK3gnz
Aria.beanDefinitions({$package:"aria.widgetLibs.CommonBeans",$description:"Configuration Beans that can be shared among different widget libraries",$namespaces:{json:"aria.core.JsonTypes"},$beans:{Callback:{$type:"json:MultiTypes",$description:"Description of a function to call with its scope and parameters.",$contentTypes:[{$type:"json:Object",$description:"Structure describing the function to call-back",$properties:{fn:{$type:"FunctionName",$description:"Function to call back"},scope:{$type:"json:ObjectRef",
$description:"Reference to the object that should be referred as 'this' in the callback function"},args:{$type:"json:MultiTypes",$description:"Optional argument of the callback function - allows to pass some contextual state information"}}},{$type:"FunctionName",$description:"Function to call back. This function will be called with no parameter and with the template as its scope."}]},FunctionName:{$type:"json:MultiTypes",$description:"Either the name of a function in a string or a direct reference to it.",
$contentTypes:[{$type:"json:String",$description:"Name of the function. This function should be defined on the scope defined for the callback, or in the template if the scope is not specified."},{$type:"json:FunctionRef",$description:"Reference to the function"}]},BindingRef:{$type:"json:Object",$description:"Description of a Binding",$properties:{to:{$type:"json:JsonProperty",$description:"Name of the JSON property to bind to"},inside:{$type:"json:ObjectRef",$description:"Reference to the object that holds the property to bind to"},
transform:{$type:"TransformRef",$description:"Reference to the object specifying the 2 transformation functions"}}},TransformRef:{$type:"json:MultiTypes",$description:"Description of a 1 or 2 function transform",$contentTypes:[{$type:"json:Object",$description:"",$properties:{toWidget:{$type:"FunctionName",$description:"1-parameter function converting the value TO the widget"},fromWidget:{$type:"FunctionName",$description:"1-parameter function converting the value FROM the widget"}}},{$type:"FunctionName",
$description:"1 function transform"}]}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/widgetLibs/environment/WidgetLibsSettings.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.widgetLibs.environment.WidgetLibsSettings",$extends:"aria.core.environment.EnvironmentBase",$dependencies:["aria.widgetLibs.environment.WidgetLibsSettingsCfgBeans"],$singleton:true,$prototype:{_cfgPackage:"aria.widgetLibs.environment.WidgetLibsSettingsCfgBeans.AppCfg",getWidgetLibs:function(){var a=this.checkApplicationSettings("defaultWidgetLibs"),b=this.checkApplicationSettings("defaultWidgetLib");if(b){a=aria.utils.Json.copy(a,false);a.aria=b}return a}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/widgetLibs/environment/WidgetLibsSettingsCfgBeans.js
//YpwKgK3gnz
Aria.beanDefinitions({$package:"aria.widgetLibs.environment.WidgetLibsSettingsCfgBeans",$namespaces:{json:"aria.core.JsonTypes"},$description:"",$beans:{AppCfg:{$type:"json:Object",$description:"",$restricted:false,$properties:{defaultWidgetLibs:{$type:"json:Map",$description:"Widget libraries to be available by default in all templates. The key in the map is the prefix used inside the template to refer to that widget library. The value is the classpath of the library. The settings in the environment can be overridden in templates if the same key is used. See also the $wlibs property of the {Template} statement in aria.templates.CfgBeans.TemplateCfg.$wlibs.",
$contentType:{$type:"json:PackageName",$description:"Classpath of the widget library."},$default:{aria:"aria.widgets.AriaLib"}}}}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/widgetLibs/WidgetLib.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.widgetLibs.WidgetLib",$statics:{UNKWOWN_WIDGET:"Unknown widget name in the library.",ERROR_WIDGET_INIT:"Template %1, line %2: an error occurred while initializing widget %3. Please check the name and classpath of the widget in the library, the constructor of the widget and its %4 method."},$prototype:{widgets:{},getWidgetDependencies:function(c,a){var b=this.widgets[c];if(b==null)return null;if(a||Aria.getClassRef(b)==null)return[b];return[]},processWidgetMarkup:function(c,
a,b,e){var f=this.widgets[c];try{if(f){b||(b={});var d=new (Aria.getClassRef(f))(b,a.tplCtxt,e);a.registerBehavior(d);d.writeMarkup(a)}else throw this.UNKWOWN_WIDGET;}catch(g){a.write("#Error in widget:"+c+"#");this.$logError(this.ERROR_WIDGET_INIT,[a.tplCtxt.tplClasspath,e,c,"writeMarkup"],g)}},processWidgetMarkupBegin:function(c,a,b,e){var f=this.widgets[c];try{if(f){b||(b={});var d=new (Aria.getClassRef(f))(b,a.tplCtxt,e);a.registerBehavior(d);d.writeMarkupBegin(a);return d}else throw this.UNKWOWN_WIDGET;
}catch(g){a.write("#Error in widget:"+c+"#");this.$logError(this.ERROR_WIDGET_INIT,[a.tplCtxt.tplClasspath,e,c,"writeMarkupBegin"],g)}}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/core/environment/Customizations.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.core.environment.Customizations",$extends:"aria.core.environment.EnvironmentBase",$dependencies:["aria.core.environment.CustomizationsCfgBeans"],$singleton:true,$statics:{DESCRIPTOR_NOT_LOADED:"A customization descriptor was specified but could not be loaded (url: '%1')",INVALID_DESCRIPTOR:"The Customization descriptor at '%1' is invalid"},$events:{descriptorLoaded:{description:"Notifies that the customization descriptor has been loaded"}},$constructor:function(){this.$EnvironmentBase.constructor.call(this);
this._descriptorLoaded=this._isCustomized=false;this._customizationDescriptor=null;this._customizations={templates:{},modules:{}}},$prototype:{_cfgPackage:"aria.core.environment.CustomizationsCfgBeans.AppCfg",_applyEnvironment:function(a){var b=this.checkApplicationSettings("customization");if(b&&(b.descriptor!==this._customizationDescriptor||aria.utils.Type.isObject(b.descriptor))){this._customizationDescriptor=b.descriptor;this.reloadCustomizationDescriptor()}this.$callback(a)},_onDescriptorReceive:function(a){if(a.status!=
"200")this.$logError(this.DESCRIPTOR_NOT_LOADED,this._customizationDescriptor);else{a=aria.utils.Json.load(a.responseText);if(a==null){this.$logError(this.INVALID_DESCRIPTOR,this._customizationDescriptor);this.$raiseEvent("descriptorLoaded");return}this._setCustomizationDescriptor(a)}this._descriptorLoaded=true;this.$raiseEvent("descriptorLoaded")},_setCustomizationDescriptor:function(a){if(aria.core.JsonValidator.normalize({json:a,beanName:"aria.core.environment.CustomizationsCfgBeans.DescriptorCfg"}))this._customizations=
a;else this.$logError(this.INVALID_DESCRIPTOR,this._customizationDescriptor)},reloadCustomizationDescriptor:function(){if(this._isCustomized=this._customizationDescriptor?true:false){this._descriptorLoaded=false;if(aria.utils.Type.isString(this._customizationDescriptor))aria.core.IO.asyncRequest({url:this._customizationDescriptor,callback:{fn:this._onDescriptorReceive,onerror:this._onDescriptorReceive,scope:this}});else{this._setCustomizationDescriptor(this._customizationDescriptor);this._descriptorLoaded=
true;this.$raiseEvent("descriptorLoaded")}}},isCustomized:function(){return this._isCustomized},descriptorLoaded:function(){return this._descriptorLoaded},getFlowCP:function(a){var b=a;if(this._isCustomized)if(this._customizations.flows[a]!=null)b=this._customizations.flows[a];return b},getCustomModules:function(a){if(this._isCustomized)if(a=this._customizations.modules[a])return a;return[]},getCustomizations:function(){return aria.utils.Json.copy(this._customizations)},getTemplateCP:function(a){var b=
a;if(this._isCustomized)if(this._customizations.templates[a]!=null)b=this._customizations.templates[a];return b},setCustomizations:function(a){this._customizationDescriptor=this.checkApplicationSettings("customization").descriptor=a;this.reloadCustomizationDescriptor()}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/core/environment/CustomizationsCfgBeans.js
//YpwKgK3gnz
Aria.beanDefinitions({$package:"aria.core.environment.CustomizationsCfgBeans",$description:"A definition of the JSON beans used to set the environment settings.",$namespaces:{json:"aria.core.JsonTypes"},$beans:{AppCfg:{$type:"json:Object",$description:"Application environment variables.",$restricted:false,$properties:{customization:{$type:"CustomizationCfg",$description:"Customization configuration",$default:{}}}},CustomizationCfg:{$type:"json:Object",$description:"",$properties:{descriptor:{$type:"json:MultiTypes",
$description:"",$default:"",$contentTypes:[{$type:"json:ObjectRef",$description:"Json object containing customization descriptors"},{$type:"json:String",$description:"Absolute or relative URL of the Customization Descriptor"}]}}},DescriptorCfg:{$type:"json:Object",$description:"Customization descriptor file",$properties:{templates:{$type:"json:Map",$description:"Templates substitution configuration",$default:{},$keyType:{$type:"json:PackageName",$description:"Classpath of the template to be replaced by another one."},
$contentType:{$type:"json:PackageName",$description:"Classpath of the customized template."}},modules:{$type:"json:Map",$default:{},$description:"Custom modules configuration",$keyType:{$type:"json:PackageName",$description:"Classpath of the module to which custom modules will be attached."},$contentType:{$type:"json:Array",$description:"Array of custom sub-modules to be attached to a module.",$contentType:{$type:"CustomModuleCfg"}}},flows:{$type:"json:Map",$description:"Custom Flow configuration",
$default:{},$keyType:{$type:"json:PackageName",$description:"Classpath of the flow to be replaced by another one."},$contentType:{$type:"json:PackageName",$description:"Classpath of the customized flow"}}}},CustomModuleCfg:{$type:"json:MultiTypes",$description:"Custom module description, which can be either a classpath only or an object containing classpath, initArgs and refpath.",$contentTypes:[{$type:"json:String",$description:"Classpath of the custom module."},{$type:"json:Object",$description:"Parameters to load the custom module.",
$properties:{classpath:{$type:"json:PackageName",$description:"Classpath of the custom module."},refpath:{$type:"json:String",$regExp:/^custom:/,$description:"Refpath where to store the custom module."},initArgs:{$type:"json:ObjectRef",$description:"Parameters to give to the custom module."}}}]}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/utils/environment/VisualFocus.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.utils.environment.VisualFocus",$extends:"aria.core.environment.EnvironmentBase",$dependencies:["aria.utils.environment.VisualFocusCfgBeans"],$singleton:true,$prototype:{_cfgPackage:"aria.utils.environment.VisualFocusCfgBeans.AppCfg",getAppOutlineStyle:function(){return this.checkApplicationSettings("appOutlineStyle")},_applyEnvironment:function(a){this.checkApplicationSettings("appOutlineStyle")?Aria.load({classes:["aria.utils.VisualFocus"],oncomplete:a?{fn:function(){this.$callback(a)},
scope:this}:null}):this.$callback(a)}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/utils/environment/VisualFocusCfgBeans.js
//YpwKgK3gnz
Aria.beanDefinitions({$package:"aria.utils.environment.VisualFocusCfgBeans",$description:"A definition of the JSON beans used to set the environment settings.",$namespaces:{json:"aria.core.JsonTypes"},$beans:{AppCfg:{$type:"json:Object",$description:"Application environment variables",$restricted:false,$properties:{appOutlineStyle:{$type:"json:String",$description:"Style of the visual focus to be applied.",$default:null}}}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/tools/contextual/environment/ContextualMenu.js
//YpwKgK3gnz
Aria.classDefinition({$classpath:"aria.tools.contextual.environment.ContextualMenu",$dependencies:["aria.tools.contextual.environment.ContextualMenuCfgBeans"],$extends:"aria.core.environment.EnvironmentBase",$singleton:true,$prototype:{_cfgPackage:"aria.tools.contextual.environment.ContextualMenuCfgBeans.AppCfg",getContextualMenu:function(){return this.checkApplicationSettings("contextualMenu")}}});
//YpwKgK3gnz
//LOGICAL-PATH:aria/tools/contextual/environment/ContextualMenuCfgBeans.js
//YpwKgK3gnz
Aria.beanDefinitions({$package:"aria.tools.contextual.environment.ContextualMenuCfgBeans",$description:"A definition of the JSON beans used to set the environment settings.",$namespaces:{json:"aria.core.JsonTypes",environmentBase:"aria.core.environment.EnvironmentBaseCfgBeans"},$beans:{AppCfg:{$type:"json:Object",$description:"Application environment variables",$restricted:false,$properties:{contextualMenu:{$type:"ContextualMenuCfg",$default:{}}}},ContextualMenuCfg:{$type:"json:Object",$description:"Settings related to the contextual menu.",
$properties:{enabled:{$type:"json:Boolean",$description:"Control whether the contextual menu is enabled or disabled.",$default:Aria.debug},template:{$type:"json:PackageName",$description:"Classpath of the template used inside the contextual menu.",$default:"aria.tools.contextual.ContextualDisplay"},moduleCtrl:{$type:"json:PackageName",$description:"Classpath of the module controller used inside the contextual menu.",$default:"aria.tools.contextual.ContextualModule"}}}}});